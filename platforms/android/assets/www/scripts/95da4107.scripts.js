"use strict";function createMethod(a){return function(){throw new Error('The "'+a+"\" method is not available on the playback technology's API")}}function setInnerText(a,b){if(void 0===a)return!1;var c="innerText"in a?"innerText":"textContent";a[c]=b}var atmobileApp=angular.module("atmobileApp",["appConfig","ngCookies","ngResource","ngSanitize","ngRoute","browseServices","sessionServices","facebookServices","googlePlusServices","linkedinServices","twitterServices","signupServices","trackingServices","authServices","browseControllers","homeControllers","userControllers","headerControllers","playerDirectives","helperDirectives","userDirectives","browseDirectives"]);atmobileApp.config(["$routeProvider","$locationProvider","$provide",function(a,b,c){a.when("/subjects",{templateUrl:"views/browse/subjects.html",controller:"SubjectController",resolve:{getSession:["Session",function(a){return a.getCurrentUser()}],layout:[function(){return{header:"views/header/index.html"}}]}}).when("/subject/:id",{templateUrl:"views/browse/courses.html",controller:"CoursesController",resolve:{getSession:["Session",function(a){return a.getCurrentUser()}],service:["ServiceName",function(a){return a.load("subjects")}],layout:[function(){return{header:"views/header/index.html"}}]}}).when("/universities",{templateUrl:"views/browse/universities.html",controller:"UniversityController",resolve:{getSession:["Session",function(a){return a.getCurrentUser()}],layout:[function(){return{header:"views/header/index.html"}}]}}).when("/university/:id",{templateUrl:"views/browse/courses.html",controller:"CoursesController",resolve:{getSession:["Session",function(a){return a.getCurrentUser()}],service:["ServiceName",function(a){return a.load("universities")}],layout:[function(){return{header:"views/header/index.html"}}]}}).when("/myCourses",{templateUrl:"views/browse/my_courses.html",controller:"MyCoursesController",resolve:{getSession:["Session",function(a){return a.getCurrentUser()}],layout:[function(){return{header:"views/header/index.html"}}]}}).when("/mba",{templateUrl:"views/browse/mba.html",controller:"MbaController",resolve:{getSession:["Session",function(a){return a.getCurrentUser()}],layout:[function(){return{header:"views/header/index.html"}}]}}).when("/course/:id",{templateUrl:"views/browse/lectures.html",controller:"LecturesController",resolve:{getSession:["Session",function(a){return a.getCurrentUser()}],layout:[function(){return{header:"views/header/index.html"}}]}}).when("/",{templateUrl:"views/home/index.html",controller:"HomeController",resolve:{getSession:["Session",function(a){return a.getCurrentUser()}],layout:[function(){return{header:"views/header/index.html"}}]}}).otherwise({redirectTo:"/"}),c.decorator("$rootScope",["$delegate",function(a){return Object.defineProperty(a.constructor.prototype,"$onRootScope",{value:function(b,c){var d=a.$on(b,c);this.$on("$destroy",d)},enumerable:!1}),a}])}]),atmobileApp.run(["$rootScope","$location","$http","TokenHandler","AuthCallbacks","MetaData","Facebook","Session",function(a,b,c,d,e,f,g){d.get()?authCallbacks.authConfirmed():c.post("/oauth/authorize",{},{ignoreAuthModule:!0}).success(function(a){d.set(a.access_token),e.authConfirmed()}).error(function(a){d.set(!1),e.authCancelled(a.error)}),a.$on("event:auth-token-error",function(){d.get()?e.authConfirmed():c.post("/oauth/authorize",{},{ignoreAuthModule:!0}).success(function(a){d.set(a.access_token),e.authConfirmed()}).error(function(a){d.set(!1),e.authCancelled(a.error)})}),a.metadata={mainTitle:"Veduca - Assista aos melhores cursos universitários do mundo, em português!",title:"Veduca",description:"Os melhores cursos universitários do Brasil e do mundo ao alcance de todos.","og:url":"http://www.veduca.com.br","og:description":"Os melhores cursos universitários do Brasil e do mundo ao alcance de todos.","og:title":"Veduca","og:image":""},a.$on("$routeChangeSuccess",function(c,d){a.layout=d.locals.layout,a.metadata=f.read(),a.currentPath=b.path()}),g.init()}]),atmobileApp.factory("ServiceName",["$q",function(a){return{name:"",load:function(b){return this.name=b,this.name||a.when(this.name)}}}]),atmobileApp.factory("MetaData",["$q",function(a){return{metadata:{mainTitle:"Veduca - Assista aos melhores cursos universitários do mundo, em português!",title:"Veduca",description:"Os melhores cursos universitários do Brasil e do mundo ao alcance de todos.","og:url":"http://www.veduca.com.br","og:description":"Os melhores cursos universitários do Brasil e do mundo ao alcance de todos.","og:title":"Veduca","og:type":"website","og:image":""},load:function(b){return this.metadata=b||this.metadata,this.metadata||a.when(this.metadata)},read:function(){return this.metadata||a.when(this.metadata)}}}]);var browseServices=angular.module("browseServices",["ngResource"]);browseServices.factory("Subjects",["$resource","API_SERVER",function(a,b){return a("http://:url/:service/:id/:query.:format",{url:b,service:"",format:"json"},{query:{method:"GET",params:{service:"subjects"},isArray:!0}})}]),browseServices.factory("Universities",["$resource","API_SERVER",function(a,b){return a("http://:url/:service/:id/:query.:format",{url:b,service:"",format:"json"},{query:{method:"GET",params:{service:"universities"},isArray:!0}})}]),browseServices.factory("Courses",["$resource","API_SERVER",function(a,b){return a("http://:url/:service/:id/:query.:format",{url:b,service:"",format:"json"},{query:{method:"GET",params:{query:"courses"},isArray:!1}})}]),browseServices.factory("CourseInfo",["$resource","API_SERVER",function(a,b){return a("http://:url/:service/:id/:query.:format",{url:b,service:""},{query:{method:"GET",params:{service:"course_info",id:"@id"},isArray:!1}})}]),browseServices.factory("Lectures",["$resource","API_SERVER",function(a,b){return a("http://:url/:service/:id/:query.:format",{url:b,service:"",format:"json"},{query:{method:"GET",params:{query:"lectures"},isArray:!0}})}]),browseServices.factory("Parts",["$resource","API_SERVER",function(a,b){return a("http://:url/:service/:id/parts",{url:b,service:""},{get:{method:"GET",params:{},isArray:!0}})}]),browseServices.factory("MyCourses",["$resource","API_SERVER",function(a,b){return a("http://:url/:service/:course_id/:query.:format",{url:b,format:"json"},{query:{method:"GET",params:{service:"user_visited_courses"},isArray:!0}})}]),browseServices.factory("VisitedPart",["$resource","API_SERVER",function(a,b){return a("http://:url/:service/:lecture_id/:part_id/:query",{url:b,service:""},{save:{method:"POST",params:{service:"save_part_visit"}}})}]),browseServices.factory("UserMbaEnrollment",["$resource","API_SERVER",function(a,b){return a("http://:url/:service/:name/:query.:format",{url:b,format:"json"},{get:{method:"GET",params:{service:"enrollment_program_data",name:"@name"},isArray:!1}})}]),browseServices.factory("CourseProgress",["$resource","API_SERVER",function(a,b){return a("http://:url/:service/:course_id/:query.:format",{url:b,format:"json"},{get:{method:"GET",params:{service:"course_progress",course_id:"@course_id"},isArray:!1}})}]);var sessionServices=angular.module("sessionServices",[]);sessionServices.factory("Session",["$location","$http","$q","$rootScope","$cookieStore","Facebook","LinkedIn","GooglePlus","Twitter","API_SERVER",function(a,b,c,d,e,f,g,h,i,j){function k(b){b=b||"/",a.path(b)}d.$on("event:facebook-connected",function(a){a.stopPropagation()}),d.$on("event:facebook-login-success",function(a,b){l.isAuthenticated()||l.populateUserFromFacebook(b),a.stopPropagation()}),d.$on("event:facebook-fetch-user-success",function(a,b){l.isAuthenticated()||l.populateUserFromFacebook(b),a.stopPropagation()}),d.$on("event:fetch-user-success",function(){l.isAuthenticated()}),d.$on("event:new-signup-progress",function(b,c){a.path("/signup/"+c)});var l={currentUser:null,login:function(a,c,e){return b.post("http://"+j+"/login",{user:{email:a,password:c,remember_me:e}}).then(function(a){l.populateUser(a.data),l.isAuthenticated()&&d.$emit("event:login-success")},function(a){d.$emit("event:login-error",a.data)})},impersonate:function(a){return b.post("http://"+j+"/impersonate",{client_email:a},{headers:{"X-User-Token":l.currentUser.authentication_token,"X-User-Email":l.currentUser.email}}).then(function(a){l.populateUser(a.data),l.isAuthenticated()&&k("/")},function(a){d.$emit("event:impersonate-login-error",a.data)})},fbLogin:function(){f.login()},linkedinAuthorize:function(){g.authorize()},googlePlusAuthorize:function(){h.authorize()},twitterAuthorize:function(){i.authorize()},facebookAuthorize:function(){f.connect()},logout:function(){b.delete("http://"+j+"/logout",{},{headers:{"X-User-Token":l.currentUser.authentication_token,"X-User-Email":l.currentUser.email}}).then(function(){l.populateUser(null),d.$emit("event:logout-success"),k("/")})},register:function(a,c,e,f){return b.post("http://"+j+"/register",{user:{name:a,email:c,phone:e,password:f}}).then(function(){d.$emit("event:signup-success",c)},function(a){d.$emit("event:signup-error",a.data)})},recover:function(a){return b.post("http://"+j+"/password",{user:{email:a}}).then(function(){d.$emit("event:password-recovery-success")},function(a){d.$emit("event:password-recovery-error",a.data)})},resetPassword:function(a,c,e){return b.put("http://"+j+"/password",{user:{reset_password_token:a,password:c,password_confirmation:e}}).then(function(a){l.populateUser(a.data),d.$emit("event:login-success"),d.$emit("event:password-set-success")},function(a){d.$emit("event:password-set-error",a.data)})},resendConfirmation:function(a){return b.post("http://"+j+"/confirmation/resend",{user:{email:a}}).then(function(){d.$emit("event:resend-confirmation-success")},function(a){d.$emit("event:resend-confirmation-error",a.data)})},getCurrentUser:function(){if(l.isAuthenticated())return d.$emit("event:fetch-user-success"),c.when(l.currentUser);if(angular.isObject(e.get("_vdc_current_user"))){var a=e.get("_vdc_current_user"),f=+new Date(1e3*a.remember_ts),g=+new Date/1e3;return f>=g?b.get("http://"+j+"/current_user",{headers:{"X-User-Token":a.authentication_token,"X-User-Email":a.email}}).then(function(a){l.populateUser(a.data),d.$emit("event:fetch-user-success")},function(a){return l.populateUser(null),d.$emit("event:fetch-user-error",a.data),!1}):(e.remove("_vdc_current_user"),d.$emit("event:fetch-user-error",{errors:["cookie is old"]}),!1)}return d.$emit("event:fetch-user-error",{errors:["no user from cookie"]}),!1},userConfirmed:function(){if(angular.isObject(e.get("_vdc_confirmation_success"))){var a=e.get("_vdc_confirmation_success");return a.status?(d.$emit("event:login-open",{confirmation:!0}),e.remove("_vdc_confirmation_success"),l.handleConfirmationForMba(),!0):!1}},handleConfirmationForMba:function(){if(angular.isObject(e.get("_vdc_mba_registration"))){var a=e.get("_vdc_mba_registration");a.status&&(e.remove("_vdc_mba_registration"),d.$emit("event:confirmation_redirect_mba",a.url))}},userHasRole:function(a){if(l.currentUser){var b=l.currentUser.roles;if(b.length)for(var c=0;c<b.length;c++)if(b[c].name===a)return!0}return!1},populateEnrollment:function(a){var b=[];b[0]={program:{name:a},status:1,user_request_certified:!1},l.currentUser.enrollments=b},userHasEnrollment:function(a){var b=l.currentUser.enrollments;if(b&&b.length)for(var c=0;c<b.length;c++)if(0!==b[c].status&&b[c].program.name===a){var d={enrolled:!0,user_request_certified:b[c].user_request_certified};return d}return!1},userHasField:function(a){return l.currentUser[a]?!0:!1},populateUserFromFacebook:function(a){l.isAuthenticated()||(l.populateUser(a.data),d.$emit("event:fetch-user-success"))},populateUser:function(a){a?(l.currentUser=a,e.put("_vdc_current_user",{name:l.currentUser.name,email:l.currentUser.email,authentication_token:l.currentUser.authentication_token,remember_ts:l.currentUser.remember_ts||Date.now()+7200})):(l.currentUser=null,e.remove("_vdc_current_user"))},isAuthenticated:function(){return!!l.currentUser},stepRedirection:function(){if(l.userHasField("user_profile"))if(l.currentUser.user_profile.step){if(!(l.currentUser.user_profile.step<5))return!1;d.$emit("event:new-signup-progress",l.currentUser.user_profile.step)}else d.$emit("event:new-signup-progress",1);else d.$emit("event:new-signup-progress",1)}};return l}]);var facebookServices=angular.module("facebookServices",[]);facebookServices.factory("Facebook",["$window","$rootScope","$http","API_SERVER","FACEBOOK_APP_ID",function(a,b,c,d,e){var f={init:function(){a.fbAsyncInit=function(){var c=a.FB||c;c.init({appId:e,channelUrl:"/channel.html",status:!0,cookie:!0,xfbml:!0}),c.Event.subscribe("auth.authResponseChange",function(a){"connected"===a.status?b.$emit("event:facebook-connected",a.authResponse):b.$emit("event:facebook-disconnected")})},function(a,b,c){var d,e=a.getElementsByTagName(b)[0];a.getElementById(c)||(d=a.createElement(b),d.id=c,d.src="//connect.facebook.net/en_US/all.js",e.parentNode.insertBefore(d,e))}(document,"script","facebook-jssdk")},login:function(){var e=a.FB||e,f={};e.login(function(a){a.authResponse?(f.credentials=a.authResponse,e.api("/me",function(a){f.info=a,e.api("/me/picture?redirect=1&type=large",function(a){f.info.avatar=a.data.url,c.post("http://"+d+"/facebook/login",{user_data:f}).then(function(a){b.$emit("event:facebook-login-success",a)},function(a){b.$emit("event:facebook-login-error",a)})})})):b.$emit("event:facebook-login-error",a)},{scope:"email, user_birthday, user_location"})},connect:function(){var c=a.FB||c,d={};c.login(function(a){a.authResponse&&(d.credentials=a.authResponse,c.api("/me",function(a){var c={provider:"facebook",id:a.id,email:a.email};b.$emit("event:fb-social-provider-allowed",c)}))},{scope:"email, user_birthday, user_location"})},getUserData:function(e){var f=a.FB||f,g={credentials:e};f.api("/me",function(a){g.info=a,f.api("/me/picture?redirect=1&type=large",function(a){g.info.avatar=a.data.url,c.post("http://"+d+"/facebook/login",{user_data:g}).then(function(a){b.$emit("event:facebook-fetch-user-success",a)},function(a){b.$emit("event:facebook-fetch-user-error",a)})})})}};return f}]);var linkedinServices=angular.module("linkedinServices",[]);linkedinServices.factory("LinkedIn",["$window","$rootScope","$http","API_SERVER","LINKEDIN_APP_ID",function(a,b,c,d,e){var f={init:function(){var b=a.IN||b;b.init({onLoad:f.onLinkedInLoad(),api_key:e,authorize:!0})},authorize:function(){IN.UI.Authorize().place(),IN.Event.on(IN,"auth",function(){f.onLinkedInLogin()})},onLinkedInLoad:function(){},onLinkedInLogin:function(){var a=["id","email-address"];IN.API.Profile("me").fields(a).result(function(a){var c={provider:"linkedin",id:a.values[0].id,email:a.values[0].emailAddress};b.$emit("event:ln-social-provider-allowed",c)})}};return f}]);var googlePlusServices=angular.module("googlePlusServices",[]);googlePlusServices.factory("GooglePlus",["$window","$rootScope","$http","API_SERVER","GOOGLE_APP_ID","GOOGLE_API_KEY",function(a,b,c,d,e,f){a.render=function(){a.gapi.client.setApiKey(f)},a.onGooglePlusLogin=function(c){c&&!c.error&&(a.gapi.client.setApiKey(""),a.gapi.client.load("oauth2","v2",function(){a.gapi.client.oauth2.userinfo.get().execute(function(a){var c={provider:"googleplus",id:a.id,email:a.email};b.$emit("event:gp-social-provider-allowed",c)})}))};var g={scopes:["https://www.googleapis.com/auth/plus.login","https://www.googleapis.com/auth/userinfo.email"],init:function(){window.___gcfg={lang:"pt-BR",parsetags:"onload"},function(){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src="https://apis.google.com/js/client:plusone.js?onload=render";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}()},authorize:function(){a.gapi.auth.authorize({client_id:e,scope:g.scopes,immediate:!1},g.onGooglePlusAuthorized)},onGooglePlusAuthorized:function(){var b={clientid:e,cookiepolicy:"single_host_origin",callback:"onGooglePlusLogin"};a.gapi.auth.signIn(b)}};return g}]);var twitterServices=angular.module("twitterServices",[]);twitterServices.factory("Twitter",["$window","$rootScope","$http","API_SERVER","TWITTER_APP_ID",function(a,b,c,d,e){var f=function(){var a=encodeURIComponent(e),b=encodeURIComponent("3wjCvlCrY8867hS0OC4k9tOrvnurD6ynhY9e2hXNtispYm5YQ9"),c=btoa(a+":"+b);return c},g={baseUrl:"https://api.twitter.com/",authorize:function(){var a=g.baseUrl+"oauth2/token",b={Authorization:"Basic "+f(),"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"};c.defaults.useXDomain=!0,c({method:"POST",url:a,headers:b,data:"grant_type=client_credentials"}).success(function(a){console.log(a)}).error(function(a){console.log(a)})},onLinkedInLogin:function(){}};return g}]);var signupServices=angular.module("signupServices",["ngResource"]);signupServices.factory("SignupSteps",["$routeParams","$rootScope","$location","$analytics","Session","ab",function(a,b,c,d,e,f){var g=a.step,h=[1,2,3,4,5],i={a:["signup_1.html","signup_2.html","signup_3.html","signup_4.html","signup_5.html"]},j={b:["signup_1.html","signup_3.html","signup_2.html","signup_4.html","signup_5.html"]},k=f.test([i,j],1),l=k.a?"a":"b",m=k[l];d.eventTrack("abtest",{category:"user-action",label:"version-"+l});var n={steps:h,templates:m,currentStep:g-1,version:l};return n.getVersion=function(){return n.version},n.fromRoute=function(){var b=parseInt(a.step);(!b||isNaN(b)||b>h.length)&&(b=1),b&&!isNaN(b)&&b<=h.length&&n.setCurrentStep(b-1)},n.skipStep=function(){n.currentStep<n.steps.length-1&&n.currentStep++,d.eventTrack("signup-skip",{category:"user-action",label:"step-"+n.currentStep+"-"+l}),b.$emit("event:signup-step-changed"),b.$emit("event:signup-step-skipped"),c.path("/signup/"+(n.currentStep+1))},n.getCurrentStep=function(){return n.currentStep},n.setCurrentStep=function(a){n.currentStep=a,b.$emit("event:signup-step-changed"),c.path("/signup/"+(n.currentStep+1))},n.getCurrentTemplate=function(){return"views/signup/"+n.templates[n.currentStep]},n.checkUserSession=function(){e.isAuthenticated()||c.path("/")},n}]),signupServices.factory("SignupData",["$rootScope","$location","$http","Session","NewProfile",function(a,b,c,d,e){d.isAuthenticated()&&(c.defaults.headers.common["X-User-Token"]=d.currentUser.authentication_token,c.defaults.headers.common["X-User-Email"]=d.currentUser.email);var f={data:{}};return f.populate=function(a,b){f.data[a]=b},f.read=function(a){return f.data[a]},f.edit=function(){return e.edit().$promise},f.update=function(a){return e.update({profile:a}).$promise},f}]);var trackingServices=angular.module("trackingServices",["angulartics","angulartics.google.analytics"]);trackingServices.config(["$analyticsProvider","GOOGLE_ANALYTICS_ID",function(a,b){a.settings.pageTracking.autoTrackFirstPage=!1,window._gaq=window._gaq||[],window._gaq.push(["_setAccount",b]),function(){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}()}]);var authServices=angular.module("authServices",["authHelpers"]);authServices.factory("AuthCallbacks",["$rootScope","httpBuffer",function(a,b){return{authConfirmed:function(c,d){var e=d||function(a){return a};a.$emit("event:auth-token-success",c),b.retryAll(e)},authCancelled:function(c,d){b.rejectAll(d),a.$emit("event:auth-token-rejected",c)}}}]),authServices.config(["$httpProvider",function(a){a.defaults.headers.common.Accept="application/vnd.veduca+json; version=1",a.interceptors.push(["$rootScope","$q","$injector","httpBuffer","TokenHandler",function(a,b,c,d,e){return{request:function(c){return a.$emit("event:load-start"),e.get()&&!c.ignoreAuthModule&&(c.headers.Authorization="Bearer "+e.get()),c||b.when(c)},response:function(d){var e=e||c.get("$http");return e.pendingRequests.length<1&&a.$emit("event:load-end"),d||b.when(d)},responseError:function(c){var f=b.defer();return 401!==c.status||c.config.ignoreAuthModule||"application/vnd.veduca"!==c.data.provider?b.reject(c):(e.set(null),d.append(c.config,f),a.$emit("event:auth-token-error",c),f.promise)}}}])}]);var authHelpers=angular.module("authHelpers",[]);authHelpers.factory("httpBuffer",["$injector",function(a){function b(b,d){function e(a){d.resolve(a)}function f(a){d.reject(a)}c=c||a.get("$http"),c(b).then(e,f)}var c,d=[];return{append:function(a,b){d.push({config:a,deferred:b})},rejectAll:function(a){if(a)for(var b=0;b<d.length;++b)d[b].deferred.reject(a);d=[]},retryAll:function(a){for(var c=0;c<d.length;++c)b(a(d[c].config),d[c].deferred);d=[]}}}]),authHelpers.factory("TokenHandler",[function(){var a={},b=!1;return a.set=function(a){b=a},a.get=function(){return b},a}]);var browseControllers=angular.module("browseControllers",[]);browseControllers.controller("SubjectController",["$scope","Subjects",function(a,b){b.query().$promise.then(function(b){a.subjects=b})}]),browseControllers.controller("UniversityController",["$scope","Universities",function(a,b){b.query().$promise.then(function(b){a.universities=b})}]),browseControllers.controller("CoursesController",["$scope","$routeParams","Courses","ServiceName",function(a,b,c,d){var e=d.name;c.query({service:e,id:b.id}).$promise.then(function(b){a.listCourses=b})}]),browseControllers.controller("MyCoursesController",["$scope","$http","$location","MyCourses","Session",function(a,b,c,d,e){a.current_user=function(){return e.currentUser},e.isAuthenticated()?(b.defaults.headers.common["X-User-Token"]=e.currentUser.authentication_token,b.defaults.headers.common["X-User-Email"]=e.currentUser.email,d.query().$promise.then(function(b){angular.forEach(b,function(a){a.percentComplete=a.total_parts>0?Math.round(a.visiteds/a.total_parts*100,2):0}),a.listCourses=b})):c.path("/")}]),browseControllers.controller("MbaController",["$scope","$http","$location","UserMbaEnrollment","CourseProgress","Session",function(a,b,c,d,e,f){if(f.isAuthenticated()){b.defaults.headers.common["X-User-Token"]=f.currentUser.authentication_token,b.defaults.headers.common["X-User-Email"]=f.currentUser.email;var g={name:"mba_ei"};d.get(g).$promise.then(function(b){a.mbaInfo={};var c={};c.name=b.program_name,c.courses=b.courses,c.percentComplete=0,c.numCols=2,c.rows=[],c.cols=[],c.rows.length=Math.ceil(b.courses.length/c.numCols),c.cols.length=c.numCols,angular.forEach(c.courses,function(a){e.get({course_id:a.id}).$promise.then(function(b){a.percentComplete=b.total_parts>0?Math.round(b.part_visiteds/b.total_parts*100,2):0,c.percentComplete=c.percentComplete+a.percentComplete/c.courses.length})}),a.mbaInfo=c})}else c.path("/")}]),browseControllers.controller("LecturesController",["$scope","$routeParams","$http","$location","CourseInfo","Lectures","Parts","VisitedPart","Session",function(a,b,c,d,e,f,g,h,i){function j(a,b){var c=Math.round(a/b*100);return c>100&&(c=100),c}a.lectures=[];var k=g.get,l="user_parts";a.state=null,a.volume=1,a.isCompleted=!1,a.API=null,i.isAuthenticated()?(i.userHasEnrollment("mba_ei").user_request_certified&&(l="user_parts_certified"),e.query({service:"course_info",id:b.id}).$promise.then(function(b){a.courseInfo=b}),c.defaults.headers.common["X-User-Token"]=i.currentUser.authentication_token,c.defaults.headers.common["X-User-Email"]=i.currentUser.email,f.query({service:"course_visiteds",id:b.id}).$promise.then(function(b){b.forEach(function(b){k({service:l,id:b.id}).$promise.then(function(c){b.parts=c,b.perc=j(b.visited_parts,b.parts.length),a.lectures.push(b),b.currentPart=c[0],c.forEach(function(a){a.visited&&(b.currentPart=a)})})})})):d.path("/"),a.nextPart=function(b){var c=a.lectures.indexOf(b),d=a.lectures[c].parts;if(a.lectures[c].currentPart.order<d[d.length-1].order){var e=a.lectures[c].parts.indexOf(a.lectures[c].currentPart);a.lectures[c].currentPart=a.lectures[c].parts[e+1]}},a.previousPart=function(b){var c=a.lectures.indexOf(b);if(a.lectures[c].currentPart.order>a.lectures[c].parts[0].order){var d=a.lectures[c].parts.indexOf(a.lectures[c].currentPart);a.lectures[c].currentPart=a.lectures[c].parts[d-1]}},a.showPlayer=function(b,c){a.currentLecture={lecture:b,part:c};var d={course_id:a.courseInfo.id,lecture_id:b.id,part_id:c.id,time:0};h.save(d).$promise.then(function(){var d=a.lectures.indexOf(b),e=a.lectures[d].parts.indexOf(c);a.lectures[d].parts[e].visited||(a.lectures[d].parts[e].visited=!0,a.lectures[d].visited_parts++,a.lectures[d].perc=j(a.lectures[d].visited_parts,a.lectures[d].parts.length),a.lectures[d].currentPart.visited=!0)})},a.destroyPlayer=function(){a.currentLecture=""}}]);var homeControllers=angular.module("homeControllers",[]);homeControllers.controller("HomeController",["$scope","$rootScope","$location","Session",function(a,b,c,d){d.isAuthenticated()&&c.path("/myCourses"),a.signed_in=function(){return d.isAuthenticated()},a.openSignUp=function(){b.$emit("event:signup-open")},a.openLogin=function(){b.$emit("event:login-open")}}]);var userControllers=angular.module("userControllers",[]);userControllers.controller("UserController",["$scope","$routeParams","Session",function(a,b,c){a.current_user=function(){return c.currentUser},a.showErrors=!1,a.user=a.current_user()||{},angular.isDefined(a.user.remember_me)||(a.user.remember_me=!0),angular.isDefined(b.reset_passoword_token)&&(a.user.reset_password_token=b.reset_passoword_token,a.$emit("event:reset-password",b.reset_passoword_token)),a.signed_in=function(){return c.isAuthenticated()},a.user_confirmed=function(){return a.signed_in()?!1:c.userConfirmed()},a.register=function(){a.showErrors=!1;var b=null,d=null,e="";a.user.area_code&&(b=a.user.area_code.replace(/[^0-9]+/g,"")),a.user.phone_number&&(d=a.user.phone_number.replace(/[^0-9]+/g,"")),b&&(e+="("+b+")"),d&&(e+=d),a.user.phone=e,c.register(a.user.name,a.user.email,a.user.phone,a.user.password)},a.login=function(){a.showErrors=!1,c.login(a.user.email,a.user.password,a.user.remember_me)},a.fbLogin=function(){c.fbLogin()},a.recoverPassword=function(){c.recover(a.user.email)},a.resetPassword=function(){c.resetPassword(a.user.reset_password_token,a.user.password,a.user.password_confirmation)},a.resendConfirmation=function(){c.resendConfirmation(a.user.email)},a.logout=function(){c.logout()},a.show_current_user=function(){c.getCurrentUser()},a.resetForm=function(){a.showErrors=!1,a.user={name:"",email:"",password:"",phone:"",remember_me:!0}},a.formatAreaCode=function(b){angular.isDefined(b)&&(a.user.area_code=b.replace(/[^0-9]+/g,""))},a.formatPhoneNumber=function(b){angular.isDefined(b)&&(a.user.phone_number=b.replace(/[^0-9]+/g,""))},a.fromLoginToSignup=function(){a.$emit("event:login-close"),a.$emit("event:signup-open")}}]),userControllers.controller("PasswordController",["$scope","$rootScope","Session",function(a,b,c){a.sendRecoverPassword=function(a){c.setPassword(a)}}]);var headerControllers=angular.module("headerControllers",[]);headerControllers.controller("HeaderController",["$rootScope","$scope","Session",function(a,b,c){b.current_user=function(){return c.currentUser},b.showErrors=!1,b.user=b.current_user()||{},angular.isDefined(b.user.remember_me)||(b.user.remember_me=!0),b.signed_in=function(){return c.isAuthenticated()},b.logout=function(){c.logout()},b.openLogin=function(){a.$emit("event:login-open")},b.openSignUp=function(){a.$emit("event:signup-open")},b.userHasMbaEnrollment=function(){return c.userHasEnrollment("mba_ei").enrolled},b.userHasCertifiedMbaEnrollment=function(){return c.userHasEnrollment("mba_ei").user_request_certified},b.userHasPhone=function(){return c.userHasField("phone")}}]),angular.module("playerDirectives",[]).directive("videojs",function(){return{restrict:"A",link:function(a,b){var c={techOrder:["html5","youtube"],aspectRatio:"auto",height:"auto",width:"auto",preload:"auto"};a.player=videojs("videoPlayer",c),a.player.src([{src:"http://m.youtube.com/watch?v="+a.currentLecture.part.url.trim(),type:"video/youtube"}]),a.player.bigPlayButton.hide(),a.currentLecture.lecture.subtitle&&(a.player.textTracks_[0].src_="http://assets.veduca.com.br/uploads/subtitle/"+a.currentLecture.lecture.subtitle+"?true"),a.player.load(),angular.element("body").css("padding-top","0px"),a.$on("$destroy",function(){videojs("videoPlayer").dispose(),b.html(""),angular.element("body").css("padding-top","50px")})}}});var userDirectives=angular.module("userDirectives",[]);userDirectives.directive("vdcLogin",["$rootScope","$route","$location",function(a,b,c){return{restrict:"A",link:function(b,d){function e(){b.showErrors=!1,b.login_form.$setPristine(),d.modal("hide"),b.show_current_user(),c.path("/myCourses")}function f(a){b.errors=a,"unconfirmed"===a.type&&(b.errors.unconfirmed=!0),b.showErrors=!0}a.$on("event:login-open",function(a,c){b.login_form.$setPristine(),angular.isDefined(c)&&c.confirmation&&(b.confirmation_success=c.confirmation),d.modal("show"),d.removeClass("hide")}),a.$on("event:login-close",function(){b.login_form.$setPristine(),d.modal("hide")}),a.$on("event:login-error",function(a,c){c?f(c.errors):b.login_form.$setPristine(),d.modal("show")}),a.$on("event:login-success",function(a){e(a)}),a.$on("event:facebook-login-success",function(a){e(a)}),a.$on("event:confirmation_redirect_mba",function(a,b){c.path(b)}),b.user_confirmed(),angular.element(".close").bind("click",function(){b.showErrors=!1,b.login_form.$setPristine(),d.modal("hide"),b.$apply()})}}}]),userDirectives.directive("vdcFacebookLogin",["$rootScope","$route",function(){return{restrict:"A",link:function(a,b){angular.element(b).bind("click",function(){a.fbLogin()})}}}]),userDirectives.directive("vdcSignup",["$rootScope","$analytics",function(a,b){return{restrict:"A",link:function(c,d){function e(){c.showErrors=!1,c.register_form.$setPristine(),d.modal("hide"),b.eventTrack("finish",{category:"user-action",label:"signup"})}c.errors={},a.$on("event:signup-open",function(){c.errors={},c.register_form.$setPristine(),c.resetForm(),d.modal("show"),b.eventTrack("start",{category:"user-action",label:"signup"})}),a.$on("event:signup-close",function(){c.errors={},c.register_form.$setPristine(),c.resetForm(),d.modal("hide"),b.eventTrack("closed",{category:"user-action",label:"signup"})}),a.$on("event:signup-error",function(a,e){angular.forEach(e.errors,function(a,b){c.errors[b]=b+" "+a[0]}),c.register_form.$setPristine(),d.modal("show"),b.eventTrack("error",{category:"user-action",label:"signup"})}),a.$on("event:signup-success",function(a){e(a)}),a.$on("event:facebook-login-success",function(a){e(a)}),angular.element(".close").bind("click",function(){c.showErrors=!1,c.register_form.$setPristine(),d.modal("hide"),c.$apply(),b.eventTrack("closed",{category:"user-action",label:"signup"})})}}}]),userDirectives.directive("vdcSignupSuccess",["$rootScope",function(a){return{restrict:"A",link:function(b,c){var d={skip_success:!1};a.$on("event:signup-config",function(a,b){d=b}),a.$on("event:signup-error",function(){c.modal("hide")}),a.$on("event:signup-success",function(a,e){d.skip_success?c.modal("hide"):(b.email=e,c.modal("show"))})}}}]),userDirectives.directive("vdcForgotPassword",["$rootScope",function(a){return{restrict:"A",link:function(b,c){a.$on("event:password-recovery-error",function(){b.showErrors=!0,c.modal("show"),c.find("#error_message").removeClass("hidden")}),a.$on("event:password-recovery-success",function(){b.showErrors=!1,b.resetForm(),b.forgot_form.$setPristine(),c.find("#error_message").addClass("hidden"),c.modal("hide"),b.user="",b.show_current_user()})}}}]),userDirectives.directive("vdcForgotPasswordSuccess",["$rootScope",function(a){return{restrict:"A",link:function(b,c){a.$on("event:password-recovery-error",function(){c.modal("hide")}),a.$on("event:password-recovery-success",function(){c.modal("show")})}}}]),userDirectives.directive("vdcResendConfirmation",["$rootScope",function(a){return{restrict:"A",link:function(b,c){a.$on("event:resend-confirmation-error",function(){b.resetForm(),b.showErrors=!0,c.modal("show"),c.find("#error_message").show()}),a.$on("event:resend-confirmation-success",function(){b.showErrors=!1,b.resend_confirmation.$setPristine(),c.find("#error_message").hide(),c.modal("hide"),b.user=""
})}}}]),userDirectives.directive("vdcResendConfirmationSuccess",["$rootScope",function(a){return{restrict:"A",link:function(b,c){a.$on("event:resend-confirmation-error",function(){c.modal("hide")}),a.$on("event:resend-confirmation-success",function(){c.modal("show")})}}}]),userDirectives.directive("vdcLogout",["$rootScope",function(a){return{restrict:"A",link:function(b,c){a.$on("event:logout-error",function(){b.showErrors=!0}),a.$on("event:logout-success",function(){b.showErrors=!1});var d=angular.element(c);d.bind("click",function(){b.showErrors=!1,b.logout()})}}}]),userDirectives.directive("vdcProfileMenu",["$cookieStore","$rootScope",function(a,b){return{restrict:"E",link:function(){b.$on("event:fetch-user-success",function(){})}}}]),userDirectives.directive("vdcResetPassword",["$rootScope","$location",function(a,b){return{restrict:"A",link:function(c,d){a.$on("event:reset-password",function(a,b){c.showErrors=!1,c.reset_form.$setPristine(),c.user.reset_password_token=b,d.modal("show")}),a.$on("event:password-set-success",function(){c.showErrors=!1,d.modal("hide"),b.path("/")}),a.$on("event:password-set-error",function(){c.showErrors=!0,d.modal("show")})}}}]);var helperDirectives=angular.module("helperDirectives",[]);helperDirectives.directive("vdcModalHelper",["$rootScope",function(){return{restrict:"A",link:function(a){function b(){for(var a=angular.element(".modal"),b=!1,c=0;c<a.length;c++)if(angular.element(a[c]).data("bs.modal")&&angular.element(a[c]).data("bs.modal").isShown){b=angular.element(a[c]);break}return b}function c(){var a=b();a&&(a.modal("hide"),a.find("iframe").length>0&&a.find("iframe").attr("src",a.find("iframe").attr("src")))}a.$on("event:close-all-modals",function(){c(),angular.element(".modal-backdrop.in").hide()})}}}]),angular.module("browseDirectives",[]).directive("mvCompleteCourse",function(){return{restrict:"A",link:function(a,b){function c(){a.course.percentComplete>=100&&b.css("background-color","rgba(0, 255, 0, 0.15)")}a.$watch("course.percentComplete",function(){c()})}}}).directive("mvCompleteLecture",function(){return{restrict:"A",link:function(a,b){function c(){a.lecture.perc>=100&&b.css("background-color","rgba(0, 255, 0, 0.15)"),a.lecture.perc>0&&a.lecture.perc<100&&b.css("background-color","rgba(0, 163, 255, 0.15)")}a.$watch("lecture.perc",function(){c()})}}}).directive("mvCompletePart",function(){return{restrict:"A",link:function(a,b){function c(){a.lecture.currentPart.visited?b.css("color","rgb(68, 180, 87)"):b.css("color","black")}a.$watch("lecture.currentPart",function(){c()}),a.$watch("lecture.currentPart.visited",function(){c()})}}}),document.createElement("video"),document.createElement("audio"),document.createElement("track");var vjs=function(a,b,c){var d;if("string"==typeof a){if(0===a.indexOf("#")&&(a=a.slice(1)),vjs.players[a])return vjs.players[a];d=vjs.el(a)}else d=a;if(!d||!d.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return d.player||new vjs.Player(d,b,c)},videojs=vjs;window.videojs=window.vjs=vjs,vjs.CDN_VERSION="4.5",vjs.ACCESS_PROTOCOL="https:"==document.location.protocol?"https://":"http://",vjs.options={techOrder:["html5","flash","youtube"],html5:{},flash:{},width:300,height:150,defaultVolume:0,children:{mediaLoader:{},posterImage:{},textTrackDisplay:{},loadingSpinner:{},bigPlayButton:{},controlBar:{}},notSupportedMessage:'Sorry, no compatible source and playback technology were found for this video. Try using another browser like <a href="http://bit.ly/ccMUEC">Chrome</a> or download the latest <a href="http://adobe.ly/mwfN1">Adobe Flash Player</a>.'},"GENERATED_CDN_VSN"!==vjs.CDN_VERSION&&(videojs.options.flash.swf=vjs.ACCESS_PROTOCOL+"vjs.zencdn.net/"+vjs.CDN_VERSION+"/video-js.swf"),vjs.players={},"function"==typeof define&&define.amd?define([],function(){return videojs}):"object"==typeof exports&&"object"==typeof module&&(module.exports=videojs),vjs.CoreObject=vjs.CoreObject=function(){},vjs.CoreObject.extend=function(a){var b,c;a=a||{},b=a.init||a.init||this.prototype.init||this.prototype.init||function(){},c=function(){b.apply(this,arguments)},c.prototype=vjs.obj.create(this.prototype),c.prototype.constructor=c,c.extend=vjs.CoreObject.extend,c.create=vjs.CoreObject.create;for(var d in a)a.hasOwnProperty(d)&&(c.prototype[d]=a[d]);return c},vjs.CoreObject.create=function(){var a=vjs.obj.create(this.prototype);return this.apply(a,arguments),a},vjs.on=function(a,b,c){var d=vjs.getData(a);d.handlers||(d.handlers={}),d.handlers[b]||(d.handlers[b]=[]),c.guid||(c.guid=vjs.guid++),d.handlers[b].push(c),d.dispatcher||(d.disabled=!1,d.dispatcher=function(b){if(!d.disabled){b=vjs.fixEvent(b);var c=d.handlers[b.type];if(c)for(var e=c.slice(0),f=0,g=e.length;g>f&&!b.isImmediatePropagationStopped();f++)e[f].call(a,b)}}),1==d.handlers[b].length&&(document.addEventListener?a.addEventListener(b,d.dispatcher,!1):document.attachEvent&&a.attachEvent("on"+b,d.dispatcher))},vjs.off=function(a,b,c){if(vjs.hasData(a)){var d=vjs.getData(a);if(d.handlers){var e=function(b){d.handlers[b]=[],vjs.cleanUpEvents(a,b)};if(b){var f=d.handlers[b];if(f){if(!c)return void e(b);if(c.guid)for(var g=0;g<f.length;g++)f[g].guid===c.guid&&f.splice(g--,1);vjs.cleanUpEvents(a,b)}}else for(var h in d.handlers)e(h)}}},vjs.cleanUpEvents=function(a,b){var c=vjs.getData(a);0===c.handlers[b].length&&(delete c.handlers[b],document.removeEventListener?a.removeEventListener(b,c.dispatcher,!1):document.detachEvent&&a.detachEvent("on"+b,c.dispatcher)),vjs.isEmpty(c.handlers)&&(delete c.handlers,delete c.dispatcher,delete c.disabled),vjs.isEmpty(c)&&vjs.removeData(a)},vjs.fixEvent=function(a){function b(){return!0}function c(){return!1}if(!a||!a.isPropagationStopped){var d=a||window.event;a={};for(var e in d)"layerX"!==e&&"layerY"!==e&&"keyboardEvent.keyLocation"!==e&&("returnValue"==e&&d.preventDefault||(a[e]=d[e]));if(a.target||(a.target=a.srcElement||document),a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement,a.preventDefault=function(){d.preventDefault&&d.preventDefault(),a.returnValue=!1,a.isDefaultPrevented=b,a.defaultPrevented=!0},a.isDefaultPrevented=c,a.defaultPrevented=!1,a.stopPropagation=function(){d.stopPropagation&&d.stopPropagation(),a.cancelBubble=!0,a.isPropagationStopped=b},a.isPropagationStopped=c,a.stopImmediatePropagation=function(){d.stopImmediatePropagation&&d.stopImmediatePropagation(),a.isImmediatePropagationStopped=b,a.stopPropagation()},a.isImmediatePropagationStopped=c,null!=a.clientX){var f=document.documentElement,g=document.body;a.pageX=a.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=a.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)}a.which=a.charCode||a.keyCode,null!=a.button&&(a.button=1&a.button?0:4&a.button?1:2&a.button?2:0)}return a},vjs.trigger=function(a,b){var c=vjs.hasData(a)?vjs.getData(a):{},d=a.parentNode||a.ownerDocument;if("string"==typeof b&&(b={type:b,target:a}),b=vjs.fixEvent(b),c.dispatcher&&c.dispatcher.call(a,b),d&&!b.isPropagationStopped()&&b.bubbles!==!1)vjs.trigger(d,b);else if(!d&&!b.defaultPrevented){var e=vjs.getData(b.target);b.target[b.type]&&(e.disabled=!0,"function"==typeof b.target[b.type]&&b.target[b.type](),e.disabled=!1)}return!b.defaultPrevented},vjs.one=function(a,b,c){var d=function(){vjs.off(a,b,d),c.apply(this,arguments)};d.guid=c.guid=c.guid||vjs.guid++,vjs.on(a,b,d)};var hasOwnProp=Object.prototype.hasOwnProperty;vjs.createEl=function(a,b){var c,d;c=document.createElement(a||"div");for(d in b)hasOwnProp.call(b,d)&&(-1!==d.indexOf("aria-")||"role"==d?c.setAttribute(d,b[d]):c[d]=b[d]);return c},vjs.capitalize=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},vjs.obj={},vjs.obj.create=Object.create||function(a){function b(){}return b.prototype=a,new b},vjs.obj.each=function(a,b,c){for(var d in a)hasOwnProp.call(a,d)&&b.call(c||this,d,a[d])},vjs.obj.merge=function(a,b){if(!b)return a;for(var c in b)hasOwnProp.call(b,c)&&(a[c]=b[c]);return a},vjs.obj.deepMerge=function(a,b){var c,d,e;a=vjs.obj.copy(a);for(c in b)hasOwnProp.call(b,c)&&(d=a[c],e=b[c],a[c]=vjs.obj.isPlain(d)&&vjs.obj.isPlain(e)?vjs.obj.deepMerge(d,e):b[c]);return a},vjs.obj.copy=function(a){return vjs.obj.merge({},a)},vjs.obj.isPlain=function(a){return!!a&&"object"==typeof a&&"[object Object]"===a.toString()&&a.constructor===Object},vjs.bind=function(a,b,c){b.guid||(b.guid=vjs.guid++);var d=function(){return b.apply(a,arguments)};return d.guid=c?c+"_"+b.guid:b.guid,d},vjs.cache={},vjs.guid=1,vjs.expando="vdata"+(new Date).getTime(),vjs.getData=function(a){var b=a[vjs.expando];return b||(b=a[vjs.expando]=vjs.guid++,vjs.cache[b]={}),vjs.cache[b]},vjs.hasData=function(a){var b=a[vjs.expando];return!(!b||vjs.isEmpty(vjs.cache[b]))},vjs.removeData=function(a){var b=a[vjs.expando];if(b){delete vjs.cache[b];try{delete a[vjs.expando]}catch(c){a.removeAttribute?a.removeAttribute(vjs.expando):a[vjs.expando]=null}}},vjs.isEmpty=function(a){for(var b in a)if(null!==a[b])return!1;return!0},vjs.addClass=function(a,b){-1==(" "+a.className+" ").indexOf(" "+b+" ")&&(a.className=""===a.className?b:a.className+" "+b)},vjs.removeClass=function(a,b){var c,d;if(-1!=a.className.indexOf(b)){for(c=a.className.split(" "),d=c.length-1;d>=0;d--)c[d]===b&&c.splice(d,1);a.className=c.join(" ")}},vjs.TEST_VID=vjs.createEl("video"),vjs.USER_AGENT=navigator.userAgent,vjs.IS_IPHONE=/iPhone/i.test(vjs.USER_AGENT),vjs.IS_IPAD=/iPad/i.test(vjs.USER_AGENT),vjs.IS_IPOD=/iPod/i.test(vjs.USER_AGENT),vjs.IS_IOS=vjs.IS_IPHONE||vjs.IS_IPAD||vjs.IS_IPOD,vjs.IOS_VERSION=function(){var a=vjs.USER_AGENT.match(/OS (\d+)_/i);return a&&a[1]?a[1]:void 0}(),vjs.IS_ANDROID=/Android/i.test(vjs.USER_AGENT),vjs.ANDROID_VERSION=function(){var a,b,c=vjs.USER_AGENT.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);return c?(a=c[1]&&parseFloat(c[1]),b=c[2]&&parseFloat(c[2]),a&&b?parseFloat(c[1]+"."+c[2]):a?a:null):null}(),vjs.IS_OLD_ANDROID=vjs.IS_ANDROID&&/webkit/i.test(vjs.USER_AGENT)&&vjs.ANDROID_VERSION<2.3,vjs.IS_FIREFOX=/Firefox/i.test(vjs.USER_AGENT),vjs.IS_CHROME=/Chrome/i.test(vjs.USER_AGENT),vjs.TOUCH_ENABLED=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),vjs.getAttributeValues=function(a){var b,c,d,e,f;if(b={},c=",autoplay,controls,loop,muted,default,",a&&a.attributes&&a.attributes.length>0){d=a.attributes;for(var g=d.length-1;g>=0;g--)e=d[g].name,f=d[g].value,("boolean"==typeof a[e]||-1!==c.indexOf(","+e+","))&&(f=null!==f?!0:!1),b[e]=f}return b},vjs.getComputedDimension=function(a,b){var c="";return document.defaultView&&document.defaultView.getComputedStyle?c=document.defaultView.getComputedStyle(a,"").getPropertyValue(b):a.currentStyle&&(c=a["client"+b.substr(0,1).toUpperCase()+b.substr(1)]+"px"),c},vjs.insertFirst=function(a,b){b.firstChild?b.insertBefore(a,b.firstChild):b.appendChild(a)},vjs.support={},vjs.el=function(a){return 0===a.indexOf("#")&&(a=a.slice(1)),document.getElementById(a)},vjs.formatTime=function(a,b){b=b||a;var c=Math.floor(a%60),d=Math.floor(a/60%60),e=Math.floor(a/3600),f=Math.floor(b/60%60),g=Math.floor(b/3600);return(isNaN(a)||1/0===a)&&(e=d=c="-"),e=e>0||g>0?e+":":"",d=((e||f>=10)&&10>d?"0"+d:d)+":",c=10>c?"0"+c:c,e+d+c},vjs.blockTextSelection=function(){document.body.focus(),document.onselectstart=function(){return!1}},vjs.unblockTextSelection=function(){document.onselectstart=function(){return!0}},vjs.trim=function(a){return(a+"").replace(/^\s+|\s+$/g,"")},vjs.round=function(a,b){return b||(b=0),Math.round(a*Math.pow(10,b))/Math.pow(10,b)},vjs.createTimeRange=function(a,b){return{length:1,start:function(){return a},end:function(){return b}}},vjs.get=function(a,b,c){var d,e;"undefined"==typeof XMLHttpRequest&&(window.XMLHttpRequest=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(b){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(c){}throw new Error("This browser does not support XMLHttpRequest.")}),e=new XMLHttpRequest;try{e.open("GET",a),e.overrideMimeType("text/html;charset=iso-8859-1")}catch(f){c(f)}d=0===a.indexOf("file:")||0===window.location.href.indexOf("file:")&&-1===a.indexOf("http"),e.onreadystatechange=function(){4===e.readyState&&(200===e.status||d&&0===e.status?b(e.responseText):c&&c())};try{e.send()}catch(f){c&&c(f)}},vjs.setLocalStorage=function(a,b){try{var c=window.localStorage||!1;if(!c)return;c[a]=b}catch(d){22==d.code||1014==d.code?vjs.log("LocalStorage Full (VideoJS)",d):18==d.code?vjs.log("LocalStorage not allowed (VideoJS)",d):vjs.log("LocalStorage Error (VideoJS)",d)}},vjs.getAbsoluteURL=function(a){return a.match(/^https?:\/\//)||(a=vjs.createEl("div",{innerHTML:'<a href="'+a+'">x</a>'}).firstChild.href),a},vjs.log=function(){vjs.log.history=vjs.log.history||[],vjs.log.history.push(arguments),window.console&&window.console.log(Array.prototype.slice.call(arguments))},vjs.findPosition=function(a){var b,c,d,e,f,g,h,i,j;return a.getBoundingClientRect&&a.parentNode&&(b=a.getBoundingClientRect()),b?(c=document.documentElement,d=document.body,e=c.clientLeft||d.clientLeft||0,f=window.pageXOffset||d.scrollLeft,g=b.left+f-e,h=c.clientTop||d.clientTop||0,i=window.pageYOffset||d.scrollTop,j=b.top+i-h,{left:vjs.round(g),top:vjs.round(j)}):{left:0,top:0}},vjs.util={},vjs.util.mergeOptions=function(a,b){var c,d,e;a=vjs.obj.copy(a);for(c in b)b.hasOwnProperty(c)&&(d=a[c],e=b[c],a[c]=vjs.obj.isPlain(d)&&vjs.obj.isPlain(e)?vjs.util.mergeOptions(d,e):b[c]);return a},vjs.Component=vjs.CoreObject.extend({init:function(a,b,c){this.player_=a,this.options_=vjs.obj.copy(this.options_),b=this.options(b),this.id_=b.id||(b.el&&b.el.id?b.el.id:a.id()+"_component_"+vjs.guid++),this.name_=b.name||null,this.el_=b.el||this.createEl(),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.initChildren(),this.ready(c),b.reportTouchActivity!==!1&&this.enableTouchActivity()}}),vjs.Component.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var a=this.children_.length-1;a>=0;a--)this.children_[a].dispose&&this.children_[a].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.off(),this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),vjs.removeData(this.el_),this.el_=null},vjs.Component.prototype.player_=!0,vjs.Component.prototype.player=function(){return this.player_},vjs.Component.prototype.options_,vjs.Component.prototype.options=function(a){return void 0===a?this.options_:this.options_=vjs.util.mergeOptions(this.options_,a)},vjs.Component.prototype.el_,vjs.Component.prototype.createEl=function(a,b){return vjs.createEl(a,b)},vjs.Component.prototype.el=function(){return this.el_},vjs.Component.prototype.contentEl_,vjs.Component.prototype.contentEl=function(){return this.contentEl_||this.el_},vjs.Component.prototype.id_,vjs.Component.prototype.id=function(){return this.id_},vjs.Component.prototype.name_,vjs.Component.prototype.name=function(){return this.name_},vjs.Component.prototype.children_,vjs.Component.prototype.children=function(){return this.children_},vjs.Component.prototype.childIndex_,vjs.Component.prototype.getChildById=function(a){return this.childIndex_[a]},vjs.Component.prototype.childNameIndex_,vjs.Component.prototype.getChild=function(a){return this.childNameIndex_[a]},vjs.Component.prototype.addChild=function(a,b){var c,d,e;return"string"==typeof a?(e=a,b=b||{},d=b.componentClass||vjs.capitalize(e),b.name=e,c=new window.videojs[d](this.player_||this,b)):c=a,this.children_.push(c),"function"==typeof c.id&&(this.childIndex_[c.id()]=c),e=e||c.name&&c.name(),e&&(this.childNameIndex_[e]=c),"function"==typeof c.el&&c.el()&&this.contentEl().appendChild(c.el()),c},vjs.Component.prototype.removeChild=function(a){if("string"==typeof a&&(a=this.getChild(a)),a&&this.children_){for(var b=!1,c=this.children_.length-1;c>=0;c--)if(this.children_[c]===a){b=!0,this.children_.splice(c,1);break}if(b){this.childIndex_[a.id]=null,this.childNameIndex_[a.name]=null;var d=a.el();d&&d.parentNode===this.contentEl()&&this.contentEl().removeChild(a.el())}}},vjs.Component.prototype.initChildren=function(){var a=this.options_;if(a&&a.children){var b=this;vjs.obj.each(a.children,function(a,c){if(c!==!1){var d=function(){b[a]=b.addChild(a,c)};c.loadEvent||d()}})}},vjs.Component.prototype.buildCSSClass=function(){return""},vjs.Component.prototype.on=function(a,b){return vjs.on(this.el_,a,vjs.bind(this,b)),this},vjs.Component.prototype.off=function(a,b){return vjs.off(this.el_,a,b),this},vjs.Component.prototype.one=function(a,b){return vjs.one(this.el_,a,vjs.bind(this,b)),this},vjs.Component.prototype.trigger=function(a,b){return vjs.trigger(this.el_,a,b),this},vjs.Component.prototype.isReady_,vjs.Component.prototype.isReadyOnInitFinish_=!0,vjs.Component.prototype.readyQueue_,vjs.Component.prototype.ready=function(a){return a&&(this.isReady_?a.call(this):(void 0===this.readyQueue_&&(this.readyQueue_=[]),this.readyQueue_.push(a))),this},vjs.Component.prototype.triggerReady=function(){this.isReady_=!0;var a=this.readyQueue_;if(a&&a.length>0){for(var b=0,c=a.length;c>b;b++)a[b].call(this);this.readyQueue_=[],this.trigger("ready")}},vjs.Component.prototype.addClass=function(a){return vjs.addClass(this.el_,a),this},vjs.Component.prototype.removeClass=function(a){return vjs.removeClass(this.el_,a),this},vjs.Component.prototype.show=function(){return this.el_.style.display="block",this},vjs.Component.prototype.hide=function(){return this.el_.style.display="none",this},vjs.Component.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},vjs.Component.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},vjs.Component.prototype.disable=function(){this.hide(),this.show=function(){}},vjs.Component.prototype.width=function(a,b){return this.dimension("width",a,b)},vjs.Component.prototype.height=function(a,b){return this.dimension("height",a,b)},vjs.Component.prototype.dimensions=function(a,b){return this.width(a,!0).height(b)},vjs.Component.prototype.dimension=function(a,b,c){if(void 0!==b)return this.el_.style[a]=-1!==(""+b).indexOf("%")||-1!==(""+b).indexOf("px")?b:"auto"===b?"":b+"px",c||this.trigger("resize"),this;if(!this.el_)return 0;var d=this.el_.style[a],e=d.indexOf("px");return-1!==e?parseInt(d.slice(0,e),10):parseInt(this.el_["offset"+vjs.capitalize(a)],10)},vjs.Component.prototype.onResize,vjs.Component.prototype.emitTapEvents=function(){var a,b,c,d;a=0,this.on("touchstart",function(){a=(new Date).getTime(),c=!0}),d=function(){c=!1},this.on("touchmove",d),this.on("touchleave",d),this.on("touchcancel",d),this.on("touchend",function(){c===!0&&(b=(new Date).getTime()-a,250>b&&this.trigger("tap"))})},vjs.Component.prototype.enableTouchActivity=function(){var a,b,c;a=vjs.bind(this.player(),this.player().reportUserActivity),this.on("touchstart",function(){a(),clearInterval(b),b=setInterval(a,250)}),c=function(){a(),clearInterval(b)},this.on("touchmove",a),this.on("touchend",c),this.on("touchcancel",c)},vjs.Button=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b);var c=!1;this.on("touchstart",function(a){a.preventDefault(),c=!0}),this.on("touchmove",function(){c=!1});var d=this;this.on("touchend",function(a){c&&d.onClick(a),a.preventDefault()}),this.on("click",this.onClick),this.on("focus",this.onFocus),this.on("blur",this.onBlur)}}),vjs.Button.prototype.createEl=function(a,b){return b=vjs.obj.merge({className:this.buildCSSClass(),innerHTML:'<div class="vjs-control-content"><span class="vjs-control-text">'+(this.buttonText||"Need Text")+"</span></div>",role:"button","aria-live":"polite",tabIndex:0},b),vjs.Component.prototype.createEl.call(this,a,b)},vjs.Button.prototype.buildCSSClass=function(){return"vjs-control "+vjs.Component.prototype.buildCSSClass.call(this)},vjs.Button.prototype.onClick=function(){},vjs.Button.prototype.onFocus=function(){vjs.on(document,"keyup",vjs.bind(this,this.onKeyPress))},vjs.Button.prototype.onKeyPress=function(a){(32==a.which||13==a.which)&&(a.preventDefault(),this.onClick())},vjs.Button.prototype.onBlur=function(){vjs.off(document,"keyup",vjs.bind(this,this.onKeyPress))},vjs.Slider=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),this.bar=this.getChild(this.options_.barName),this.handle=this.getChild(this.options_.handleName),a.on(this.playerEvent,vjs.bind(this,this.update)),this.on("mousedown",this.onMouseDown),this.on("touchstart",this.onMouseDown),this.on("focus",this.onFocus),this.on("blur",this.onBlur),this.on("click",this.onClick),this.player_.on("controlsvisible",vjs.bind(this,this.update)),a.ready(vjs.bind(this,this.update)),this.boundEvents={}}}),vjs.Slider.prototype.createEl=function(a,b){return b=b||{},b.className=b.className+" vjs-slider",b=vjs.obj.merge({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},b),vjs.Component.prototype.createEl.call(this,a,b)},vjs.Slider.prototype.onMouseDown=function(a){a.preventDefault(),vjs.blockTextSelection(),this.boundEvents.move=vjs.bind(this,this.onMouseMove),this.boundEvents.end=vjs.bind(this,this.onMouseUp),vjs.on(document,"mousemove",this.boundEvents.move),vjs.on(document,"mouseup",this.boundEvents.end),vjs.on(document,"touchmove",this.boundEvents.move),vjs.on(document,"touchend",this.boundEvents.end),this.onMouseMove(a)},vjs.Slider.prototype.onMouseUp=function(){vjs.unblockTextSelection(),vjs.off(document,"mousemove",this.boundEvents.move,!1),vjs.off(document,"mouseup",this.boundEvents.end,!1),vjs.off(document,"touchmove",this.boundEvents.move,!1),vjs.off(document,"touchend",this.boundEvents.end,!1),this.update()},vjs.Slider.prototype.update=function(){if(this.el_){var a,b=this.getPercent(),c=this.handle,d=this.bar;if(isNaN(b)&&(b=0),a=b,c){var e=this.el_,f=e.offsetWidth,g=c.el().offsetWidth,h=g?g/f:0,i=1-h,j=b*i;a=j+h/2,c.el().style.left=vjs.round(100*j,2)+"%"}d.el().style.width=vjs.round(100*a,2)+"%"}},vjs.Slider.prototype.calculateDistance=function(a){var b,c,d,e,f,g,h,i,j;if(b=this.el_,c=vjs.findPosition(b),f=g=b.offsetWidth,h=this.handle,this.options_.vertical){if(e=c.top,j=a.changedTouches?a.changedTouches[0].pageY:a.pageY,h){var k=h.el().offsetHeight;e+=k/2,g-=k}return Math.max(0,Math.min(1,(e-j+g)/g))}if(d=c.left,i=a.changedTouches?a.changedTouches[0].pageX:a.pageX,h){var l=h.el().offsetWidth;d+=l/2,f-=l}return Math.max(0,Math.min(1,(i-d)/f))},vjs.Slider.prototype.onFocus=function(){vjs.on(document,"keyup",vjs.bind(this,this.onKeyPress))},vjs.Slider.prototype.onKeyPress=function(a){37==a.which?(a.preventDefault(),this.stepBack()):39==a.which&&(a.preventDefault(),this.stepForward())},vjs.Slider.prototype.onBlur=function(){vjs.off(document,"keyup",vjs.bind(this,this.onKeyPress))},vjs.Slider.prototype.onClick=function(a){a.stopImmediatePropagation(),a.preventDefault()},vjs.SliderHandle=vjs.Component.extend(),vjs.SliderHandle.prototype.defaultValue=0,vjs.SliderHandle.prototype.createEl=function(a,b){return b=b||{},b.className=b.className+" vjs-slider-handle",b=vjs.obj.merge({innerHTML:'<span class="vjs-control-text">'+this.defaultValue+"</span>"},b),vjs.Component.prototype.createEl.call(this,"div",b)},vjs.Menu=vjs.Component.extend(),vjs.Menu.prototype.addItem=function(a){this.addChild(a),a.on("click",vjs.bind(this,function(){this.unlockShowing()}))},vjs.Menu.prototype.createEl=function(){var a=this.options().contentElType||"ul";this.contentEl_=vjs.createEl(a,{className:"vjs-menu-content"});var b=vjs.Component.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return b.appendChild(this.contentEl_),vjs.on(b,"click",function(a){a.preventDefault(),a.stopImmediatePropagation()}),b},vjs.MenuItem=vjs.Button.extend({init:function(a,b){vjs.Button.call(this,a,b),this.selected(b.selected)}}),vjs.MenuItem.prototype.createEl=function(a,b){return vjs.Button.prototype.createEl.call(this,"li",vjs.obj.merge({className:"vjs-menu-item",innerHTML:this.options_.label},b))},vjs.MenuItem.prototype.onClick=function(){this.selected(!0)},vjs.MenuItem.prototype.selected=function(a){a?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-selected",!0)):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-selected",!1))},vjs.MenuButton=vjs.Button.extend({init:function(a,b){vjs.Button.call(this,a,b),this.menu=this.createMenu(),this.addChild(this.menu),this.items&&0===this.items.length&&this.hide(),this.on("keyup",this.onKeyPress),this.el_.setAttribute("aria-haspopup",!0),this.el_.setAttribute("role","button")}}),vjs.MenuButton.prototype.buttonPressed_=!1,vjs.MenuButton.prototype.createMenu=function(){var a=new vjs.Menu(this.player_);if(this.options().title&&a.el().appendChild(vjs.createEl("li",{className:"vjs-menu-title",innerHTML:vjs.capitalize(this.kind_),tabindex:-1})),this.items=this.createItems(),this.items)for(var b=0;b<this.items.length;b++)a.addItem(this.items[b]);return a},vjs.MenuButton.prototype.createItems=function(){},vjs.MenuButton.prototype.buildCSSClass=function(){return this.className+" vjs-menu-button "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.MenuButton.prototype.onFocus=function(){},vjs.MenuButton.prototype.onBlur=function(){},vjs.MenuButton.prototype.onClick=function(){this.one("mouseout",vjs.bind(this,function(){this.menu.unlockShowing(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},vjs.MenuButton.prototype.onKeyPress=function(a){a.preventDefault(),32==a.which||13==a.which?this.buttonPressed_?this.unpressButton():this.pressButton():27==a.which&&this.buttonPressed_&&this.unpressButton()},vjs.MenuButton.prototype.pressButton=function(){this.buttonPressed_=!0,this.menu.lockShowing(),this.el_.setAttribute("aria-pressed",!0),this.items&&this.items.length>0&&this.items[0].el().focus()},vjs.MenuButton.prototype.unpressButton=function(){this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-pressed",!1)},vjs.Player=vjs.Component.extend({init:function(a,b,c){this.tag=a,a.id=a.id||"vjs_video_"+vjs.guid++,b=vjs.obj.merge(this.getTagSettings(a),b),this.cache_={},this.poster_=b.poster,this.controls_=b.controls,a.controls=!1,b.reportTouchActivity=!1,vjs.Component.call(this,this,b,c),this.addClass(this.controls()?"vjs-controls-enabled":"vjs-controls-disabled"),this.one("play",function(a){var b={type:"firstplay",target:this.el_},c=vjs.trigger(this.el_,b);c||(a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation())}),this.on("ended",this.onEnded),this.on("play",this.onPlay),this.on("firstplay",this.onFirstPlay),this.on("pause",this.onPause),this.on("progress",this.onProgress),this.on("durationchange",this.onDurationChange),this.on("error",this.onError),this.on("fullscreenchange",this.onFullscreenChange),vjs.players[this.id_]=this,b.plugins&&vjs.obj.each(b.plugins,function(a,b){this[a](b)},this)}}),vjs.Player.prototype.options_=vjs.options,vjs.Player.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),vjs.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.stopTrackingProgress(),this.stopTrackingCurrentTime(),this.tech&&this.tech.dispose(),vjs.Component.prototype.dispose.call(this)},vjs.Player.prototype.getTagSettings=function(a){var b={sources:[],tracks:[]};if(vjs.obj.merge(b,vjs.getAttributeValues(a)),a.hasChildNodes()){var c,d,e,f,g;for(c=a.childNodes,f=0,g=c.length;g>f;f++)d=c[f],e=d.nodeName.toLowerCase(),"source"===e?b.sources.push(vjs.getAttributeValues(d)):"track"===e&&b.tracks.push(vjs.getAttributeValues(d))}return b},vjs.Player.prototype.createEl=function(){var a=this.el_=vjs.Component.prototype.createEl.call(this,"div"),b=this.tag;if(b.removeAttribute("width"),b.removeAttribute("height"),b.hasChildNodes()){var c,d,e,f,g,h;for(c=b.childNodes,d=c.length,h=[];d--;)f=c[d],g=f.nodeName.toLowerCase(),"track"===g&&h.push(f);for(e=0;e<h.length;e++)b.removeChild(h[e])}return a.id=b.id,a.className=b.className,b.id+="_html5_api",b.className="vjs-tech",b.player=a.player=this,this.addClass("vjs-paused"),this.width(this.options_.width,!0),this.height(this.options_.height,!0),b.parentNode&&b.parentNode.insertBefore(a,b),vjs.insertFirst(b,a),a},vjs.Player.prototype.loadTech=function(a,b){this.tech&&this.unloadTech(),"Html5"!==a&&this.tag&&(vjs.Html5.disposeMediaElement(this.tag),this.tag=null),this.techName=a,this.isReady_=!1;var c=function(){this.player_.triggerReady(),this.features.progressEvents||this.player_.manualProgressOn(),this.features.timeupdateEvents||this.player_.manualTimeUpdatesOn()},d=vjs.obj.merge({source:b,parentEl:this.el_},this.options_[a.toLowerCase()]);b&&(b.src==this.cache_.src&&this.cache_.currentTime>0&&(d.startTime=this.cache_.currentTime),this.cache_.src=b.src),this.tech=new window.videojs[a](this,d),this.tech.ready(c)},vjs.Player.prototype.unloadTech=function(){this.isReady_=!1,this.tech.dispose(),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),this.tech=!1},vjs.Player.prototype.manualProgressOn=function(){this.manualProgress=!0,this.trackProgress(),this.tech.one("progress",function(){this.features.progressEvents=!0,this.player_.manualProgressOff()})},vjs.Player.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress()},vjs.Player.prototype.trackProgress=function(){this.progressInterval=setInterval(vjs.bind(this,function(){this.cache_.bufferEnd<this.buffered().end(0)?this.trigger("progress"):1==this.bufferedPercent()&&(this.stopTrackingProgress(),this.trigger("progress"))}),1e3)},vjs.Player.prototype.stopTrackingProgress=function(){clearInterval(this.progressInterval)},vjs.Player.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime),this.tech.one("timeupdate",function(){this.features.timeupdateEvents=!0,this.player_.manualTimeUpdatesOff()})},vjs.Player.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},vjs.Player.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=setInterval(vjs.bind(this,function(){this.trigger("timeupdate")}),250)},vjs.Player.prototype.stopTrackingCurrentTime=function(){clearInterval(this.currentTimeInterval)},vjs.Player.prototype.onLoadStart,vjs.Player.prototype.onLoadedMetaData,vjs.Player.prototype.onLoadedData,vjs.Player.prototype.onLoadedAllData,vjs.Player.prototype.onPlay=function(){vjs.removeClass(this.el_,"vjs-paused"),vjs.addClass(this.el_,"vjs-playing")},vjs.Player.prototype.onFirstPlay=function(){this.options_.starttime&&this.currentTime(this.options_.starttime),this.addClass("vjs-has-started")},vjs.Player.prototype.onPause=function(){vjs.removeClass(this.el_,"vjs-playing"),vjs.addClass(this.el_,"vjs-paused")},vjs.Player.prototype.onTimeUpdate,vjs.Player.prototype.onProgress=function(){1==this.bufferedPercent()&&this.trigger("loadedalldata")},vjs.Player.prototype.onEnded=function(){this.options_.loop&&(this.currentTime(0),this.play())},vjs.Player.prototype.onDurationChange=function(){var a=this.techGet("duration");a&&this.duration(a)},vjs.Player.prototype.onVolumeChange,vjs.Player.prototype.onFullscreenChange=function(){this.isFullScreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},vjs.Player.prototype.onError=function(a){vjs.log("Video Error",a)},vjs.Player.prototype.cache_,vjs.Player.prototype.getCache=function(){return this.cache_},vjs.Player.prototype.techCall=function(a,b){if(this.tech&&!this.tech.isReady_)this.tech.ready(function(){this[a](b)});else try{this.tech[a](b)}catch(c){throw vjs.log(c),c}},vjs.Player.prototype.techGet=function(a){if(this.tech&&this.tech.isReady_)try{return this.tech[a]()}catch(b){throw void 0===this.tech[a]?vjs.log("Video.js: "+a+" method not defined for "+this.techName+" playback technology.",b):"TypeError"==b.name?(vjs.log("Video.js: "+a+" unavailable on "+this.techName+" playback technology element.",b),this.tech.isReady_=!1):vjs.log(b),b
}},vjs.Player.prototype.play=function(){return this.techCall("play"),this},vjs.Player.prototype.pause=function(){return this.techCall("pause"),this},vjs.Player.prototype.paused=function(){return this.techGet("paused")===!1?!1:!0},vjs.Player.prototype.currentTime=function(a){return void 0!==a?(this.techCall("setCurrentTime",a),this.manualTimeUpdates&&this.trigger("timeupdate"),this):this.cache_.currentTime=this.techGet("currentTime")||0},vjs.Player.prototype.duration=function(a){return void 0!==a?(this.cache_.duration=parseFloat(a),this):(void 0===this.cache_.duration&&this.onDurationChange(),this.cache_.duration||0)},vjs.Player.prototype.remainingTime=function(){return this.duration()-this.currentTime()},vjs.Player.prototype.buffered=function(){var a=this.techGet("buffered"),b=0,c=a.length-1,d=this.cache_.bufferEnd=this.cache_.bufferEnd||0;return a&&c>=0&&a.end(c)!==d&&(d=a.end(c),this.cache_.bufferEnd=d),vjs.createTimeRange(b,d)},vjs.Player.prototype.bufferedPercent=function(){return this.duration()?this.buffered().end(0)/this.duration():0},vjs.Player.prototype.volume=function(a){var b;return void 0!==a?(b=Math.max(0,Math.min(1,parseFloat(a))),this.cache_.volume=b,this.techCall("setVolume",b),vjs.setLocalStorage("volume",b),this):(b=parseFloat(this.techGet("volume")),isNaN(b)?1:b)},vjs.Player.prototype.muted=function(a){return void 0!==a?(this.techCall("setMuted",a),this):this.techGet("muted")||!1},vjs.Player.prototype.supportsFullScreen=function(){return this.techGet("supportsFullScreen")||!1},vjs.Player.prototype.isFullScreen_=!1,vjs.Player.prototype.isFullScreen=function(a){return void 0!==a?(this.isFullScreen_=a,this):this.isFullScreen_},vjs.Player.prototype.requestFullScreen=function(){var a=vjs.support.requestFullScreen;return this.isFullScreen(!0),a?(vjs.on(document,a.eventName,vjs.bind(this,function(){this.isFullScreen(document[a.isFullScreen]),this.isFullScreen()===!1&&vjs.off(document,a.eventName,arguments.callee),this.trigger("fullscreenchange")})),this.el_[a.requestFn]()):this.tech.supportsFullScreen()?this.techCall("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},vjs.Player.prototype.cancelFullScreen=function(){var a=vjs.support.requestFullScreen;return this.isFullScreen(!1),a?document[a.cancelFn]():this.tech.supportsFullScreen()?this.techCall("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},vjs.Player.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=document.documentElement.style.overflow,vjs.on(document,"keydown",vjs.bind(this,this.fullWindowOnEscKey)),document.documentElement.style.overflow="hidden",vjs.addClass(document.body,"vjs-full-window"),this.trigger("enterFullWindow")},vjs.Player.prototype.fullWindowOnEscKey=function(a){27===a.keyCode&&(this.isFullScreen()===!0?this.cancelFullScreen():this.exitFullWindow())},vjs.Player.prototype.exitFullWindow=function(){this.isFullWindow=!1,vjs.off(document,"keydown",this.fullWindowOnEscKey),document.documentElement.style.overflow=this.docOrigOverflow,vjs.removeClass(document.body,"vjs-full-window"),this.trigger("exitFullWindow")},vjs.Player.prototype.selectSource=function(a){for(var b=0,c=this.options_.techOrder;b<c.length;b++){var d=vjs.capitalize(c[b]),e=window.videojs[d];if(e.isSupported())for(var f=0,g=a;f<g.length;f++){var h=g[f];if(e.canPlaySource(h))return{source:h,tech:d}}}return!1},vjs.Player.prototype.src=function(a){if(void 0===a)return this.techGet("src");if(a instanceof Array){var b,c=this.selectSource(a);c?(a=c.source,b=c.tech,b==this.techName?this.src(a):this.loadTech(b,a)):(this.el_.appendChild(vjs.createEl("p",{innerHTML:this.options().notSupportedMessage})),this.triggerReady())}else a instanceof Object?this.src(window.videojs[this.techName].canPlaySource(a)?a.src:[a]):(this.cache_.src=a,this.isReady_?(this.techCall("src",a),"auto"==this.options_.preload&&this.load(),this.options_.autoplay&&this.play()):this.ready(function(){this.src(a)}));return this},vjs.Player.prototype.load=function(){return this.techCall("load"),this},vjs.Player.prototype.currentSrc=function(){return this.techGet("currentSrc")||this.cache_.src||""},vjs.Player.prototype.preload=function(a){return void 0!==a?(this.techCall("setPreload",a),this.options_.preload=a,this):this.techGet("preload")},vjs.Player.prototype.autoplay=function(a){return void 0!==a?(this.techCall("setAutoplay",a),this.options_.autoplay=a,this):this.techGet("autoplay",a)},vjs.Player.prototype.loop=function(a){return void 0!==a?(this.techCall("setLoop",a),this.options_.loop=a,this):this.techGet("loop")},vjs.Player.prototype.poster_,vjs.Player.prototype.poster=function(a){return void 0===a?this.poster_:(this.poster_=a,this.techCall("setPoster",a),void this.trigger("posterchange"))},vjs.Player.prototype.controls_,vjs.Player.prototype.controls=function(a){return void 0!==a?(a=!!a,this.controls_!==a&&(this.controls_=a,a?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled")):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"))),this):this.controls_},vjs.Player.prototype.usingNativeControls_,vjs.Player.prototype.usingNativeControls=function(a){return void 0!==a?(a=!!a,this.usingNativeControls_!==a&&(this.usingNativeControls_=a,a?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):this.usingNativeControls_},vjs.Player.prototype.error=function(){return this.techGet("error")},vjs.Player.prototype.ended=function(){return this.techGet("ended")},vjs.Player.prototype.seeking=function(){return this.techGet("seeking")},vjs.Player.prototype.userActivity_=!0,vjs.Player.prototype.reportUserActivity=function(){this.userActivity_=!0},vjs.Player.prototype.userActive_=!0,vjs.Player.prototype.userActive=function(a){return void 0!==a?(a=!!a,a!==this.userActive_&&(this.userActive_=a,a?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech&&this.tech.one("mousemove",function(a){a.stopPropagation(),a.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.userActive_},vjs.Player.prototype.listenForUserActivity=function(){var a,b,c,d,e,f;a=vjs.bind(this,this.reportUserActivity),b=function(){a(),clearInterval(c),c=setInterval(a,250)},d=function(){a(),clearInterval(c)},this.on("mousedown",b),this.on("mousemove",a),this.on("mouseup",d),this.on("keydown",a),this.on("keyup",a),e=setInterval(vjs.bind(this,function(){this.userActivity_&&(this.userActivity_=!1,this.userActive(!0),clearTimeout(f),f=setTimeout(vjs.bind(this,function(){this.userActivity_||this.userActive(!1)}),2e3))}),250),this.on("dispose",function(){clearInterval(e),clearTimeout(f)})},function(){var a,b,c;c=document.createElement("div"),b={},void 0!==c.cancelFullscreen?(b.requestFn="requestFullscreen",b.cancelFn="exitFullscreen",b.eventName="fullscreenchange",b.isFullScreen="fullScreen"):(document.mozCancelFullScreen?(a="moz",b.isFullScreen=a+"FullScreen"):(a="webkit",b.isFullScreen=a+"IsFullScreen"),c[a+"RequestFullScreen"]&&(b.requestFn=a+"RequestFullScreen",b.cancelFn=a+"CancelFullScreen"),b.eventName=a+"fullscreenchange"),document[b.cancelFn]&&(vjs.support.requestFullScreen=b)}(),vjs.ControlBar=vjs.Component.extend(),vjs.ControlBar.prototype.options_={loadEvent:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},progressControl:{},fullscreenToggle:{},volumeControl:{},muteToggle:{}}},vjs.ControlBar.prototype.createEl=function(){return vjs.createEl("div",{className:"vjs-control-bar"})},vjs.PlayToggle=vjs.Button.extend({init:function(a,b){vjs.Button.call(this,a,b),a.on("play",vjs.bind(this,this.onPlay)),a.on("pause",vjs.bind(this,this.onPause))}}),vjs.PlayToggle.prototype.buttonText="Play",vjs.PlayToggle.prototype.buildCSSClass=function(){return"vjs-play-control "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.PlayToggle.prototype.onClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},vjs.PlayToggle.prototype.onPlay=function(){vjs.removeClass(this.el_,"vjs-paused"),vjs.addClass(this.el_,"vjs-playing"),this.el_.children[0].children[0].innerHTML="Pause"},vjs.PlayToggle.prototype.onPause=function(){vjs.removeClass(this.el_,"vjs-playing"),vjs.addClass(this.el_,"vjs-paused"),this.el_.children[0].children[0].innerHTML="Play"},vjs.CurrentTimeDisplay=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),a.on("timeupdate",vjs.bind(this,this.updateContent))}}),vjs.CurrentTimeDisplay.prototype.createEl=function(){var a=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00',"aria-live":"off"}),a.appendChild(this.contentEl_),a},vjs.CurrentTimeDisplay.prototype.updateContent=function(){var a=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.contentEl_.innerHTML='<span class="vjs-control-text">Current Time </span>'+vjs.formatTime(a,this.player_.duration())},vjs.DurationDisplay=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),a.on("timeupdate",vjs.bind(this,this.updateContent))}}),vjs.DurationDisplay.prototype.createEl=function(){var a=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">Duration Time </span>0:00',"aria-live":"off"}),a.appendChild(this.contentEl_),a},vjs.DurationDisplay.prototype.updateContent=function(){var a=this.player_.duration();a&&(this.contentEl_.innerHTML='<span class="vjs-control-text">Duration Time </span>'+vjs.formatTime(a))},vjs.TimeDivider=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b)}}),vjs.TimeDivider.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},vjs.RemainingTimeDisplay=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),a.on("timeupdate",vjs.bind(this,this.updateContent))}}),vjs.RemainingTimeDisplay.prototype.createEl=function(){var a=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">Remaining Time </span>-0:00',"aria-live":"off"}),a.appendChild(this.contentEl_),a},vjs.RemainingTimeDisplay.prototype.updateContent=function(){this.player_.duration()&&(this.contentEl_.innerHTML='<span class="vjs-control-text">Remaining Time </span>-'+vjs.formatTime(this.player_.remainingTime()))},vjs.FullscreenToggle=vjs.Button.extend({init:function(a,b){vjs.Button.call(this,a,b)}}),vjs.FullscreenToggle.prototype.buttonText="Fullscreen",vjs.FullscreenToggle.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.FullscreenToggle.prototype.onClick=function(){this.player_.isFullScreen()?(this.player_.cancelFullScreen(),this.el_.children[0].children[0].innerHTML="Fullscreen"):(this.player_.requestFullScreen(),this.el_.children[0].children[0].innerHTML="Non-Fullscreen")},vjs.ProgressControl=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b)}}),vjs.ProgressControl.prototype.options_={children:{seekBar:{}}},vjs.ProgressControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},vjs.SeekBar=vjs.Slider.extend({init:function(a,b){vjs.Slider.call(this,a,b),a.on("timeupdate",vjs.bind(this,this.updateARIAAttributes)),a.ready(vjs.bind(this,this.updateARIAAttributes))}}),vjs.SeekBar.prototype.options_={children:{loadProgressBar:{},playProgressBar:{},seekHandle:{}},barName:"playProgressBar",handleName:"seekHandle"},vjs.SeekBar.prototype.playerEvent="timeupdate",vjs.SeekBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-progress-holder","aria-label":"video progress bar"})},vjs.SeekBar.prototype.updateARIAAttributes=function(){var a=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("aria-valuenow",vjs.round(100*this.getPercent(),2)),this.el_.setAttribute("aria-valuetext",vjs.formatTime(a,this.player_.duration()))},vjs.SeekBar.prototype.getPercent=function(){return this.player_.currentTime()/this.player_.duration()},vjs.SeekBar.prototype.onMouseDown=function(a){vjs.Slider.prototype.onMouseDown.call(this,a),this.player_.scrubbing=!0,this.videoWasPlaying=!this.player_.paused(),this.player_.pause()},vjs.SeekBar.prototype.onMouseMove=function(a){var b=this.calculateDistance(a)*this.player_.duration();b==this.player_.duration()&&(b-=.1),this.player_.currentTime(b)},vjs.SeekBar.prototype.onMouseUp=function(a){vjs.Slider.prototype.onMouseUp.call(this,a),this.player_.scrubbing=!1,this.videoWasPlaying&&this.player_.play()},vjs.SeekBar.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},vjs.SeekBar.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},vjs.LoadProgressBar=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),a.on("progress",vjs.bind(this,this.update))}}),vjs.LoadProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text">Loaded: 0%</span>'})},vjs.LoadProgressBar.prototype.update=function(){this.el_.style&&(this.el_.style.width=vjs.round(100*this.player_.bufferedPercent(),2)+"%")},vjs.PlayProgressBar=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b)}}),vjs.PlayProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text">Progress: 0%</span>'})},vjs.SeekHandle=vjs.SliderHandle.extend({init:function(a,b){vjs.SliderHandle.call(this,a,b),a.on("timeupdate",vjs.bind(this,this.updateContent))}}),vjs.SeekHandle.prototype.defaultValue="00:00",vjs.SeekHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-seek-handle","aria-live":"off"})},vjs.SeekHandle.prototype.updateContent=function(){var a=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.innerHTML='<span class="vjs-control-text">'+vjs.formatTime(a,this.player_.duration())+"</span>"},vjs.VolumeControl=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),a.tech&&a.tech.features&&a.tech.features.volumeControl===!1&&this.addClass("vjs-hidden"),a.on("loadstart",vjs.bind(this,function(){a.tech.features&&a.tech.features.volumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}))}}),vjs.VolumeControl.prototype.options_={children:{volumeBar:{}}},vjs.VolumeControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},vjs.VolumeBar=vjs.Slider.extend({init:function(a,b){vjs.Slider.call(this,a,b),a.on("volumechange",vjs.bind(this,this.updateARIAAttributes)),a.ready(vjs.bind(this,this.updateARIAAttributes)),setTimeout(vjs.bind(this,this.update),0)}}),vjs.VolumeBar.prototype.updateARIAAttributes=function(){this.el_.setAttribute("aria-valuenow",vjs.round(100*this.player_.volume(),2)),this.el_.setAttribute("aria-valuetext",vjs.round(100*this.player_.volume(),2)+"%")},vjs.VolumeBar.prototype.options_={children:{volumeLevel:{},volumeHandle:{}},barName:"volumeLevel",handleName:"volumeHandle"},vjs.VolumeBar.prototype.playerEvent="volumechange",vjs.VolumeBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-volume-bar","aria-label":"volume level"})},vjs.VolumeBar.prototype.onMouseMove=function(a){this.player_.muted()&&this.player_.muted(!1),this.player_.volume(this.calculateDistance(a))},vjs.VolumeBar.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},vjs.VolumeBar.prototype.stepForward=function(){this.player_.volume(this.player_.volume()+.1)},vjs.VolumeBar.prototype.stepBack=function(){this.player_.volume(this.player_.volume()-.1)},vjs.VolumeLevel=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b)}}),vjs.VolumeLevel.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},vjs.VolumeHandle=vjs.SliderHandle.extend(),vjs.VolumeHandle.prototype.defaultValue="00:00",vjs.VolumeHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-volume-handle"})},vjs.MuteToggle=vjs.Button.extend({init:function(a,b){vjs.Button.call(this,a,b),a.on("volumechange",vjs.bind(this,this.update)),a.tech&&a.tech.features&&a.tech.features.volumeControl===!1&&this.addClass("vjs-hidden"),a.on("loadstart",vjs.bind(this,function(){a.tech.features&&a.tech.features.volumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}))}}),vjs.MuteToggle.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})},vjs.MuteToggle.prototype.onClick=function(){this.player_.muted(this.player_.muted()?!1:!0)},vjs.MuteToggle.prototype.update=function(){var a=this.player_.volume(),b=3;0===a||this.player_.muted()?b=0:.33>a?b=1:.67>a&&(b=2),this.player_.muted()?"Unmute"!=this.el_.children[0].children[0].innerHTML&&(this.el_.children[0].children[0].innerHTML="Unmute"):"Mute"!=this.el_.children[0].children[0].innerHTML&&(this.el_.children[0].children[0].innerHTML="Mute");for(var c=0;4>c;c++)vjs.removeClass(this.el_,"vjs-vol-"+c);vjs.addClass(this.el_,"vjs-vol-"+b)},vjs.VolumeMenuButton=vjs.MenuButton.extend({init:function(a,b){vjs.MenuButton.call(this,a,b),a.on("volumechange",vjs.bind(this,this.update)),a.tech&&a.tech.features&&a.tech.features.volumeControl===!1&&this.addClass("vjs-hidden"),a.on("loadstart",vjs.bind(this,function(){a.tech.features&&a.tech.features.volumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})),this.addClass("vjs-menu-button")}}),vjs.VolumeMenuButton.prototype.createMenu=function(){var a=new vjs.Menu(this.player_,{contentElType:"div"}),b=new vjs.VolumeBar(this.player_,vjs.obj.merge({vertical:!0},this.options_.volumeBar));return a.addChild(b),a},vjs.VolumeMenuButton.prototype.onClick=function(){vjs.MuteToggle.prototype.onClick.call(this),vjs.MenuButton.prototype.onClick.call(this)},vjs.VolumeMenuButton.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-volume-menu-button vjs-menu-button vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})},vjs.VolumeMenuButton.prototype.update=vjs.MuteToggle.prototype.update,vjs.PosterImage=vjs.Button.extend({init:function(a,b){vjs.Button.call(this,a,b),a.poster()&&this.src(a.poster()),a.poster()&&a.controls()||this.hide(),a.on("posterchange",vjs.bind(this,function(){this.src(a.poster())})),a.on("play",vjs.bind(this,this.hide))}});var _backgroundSizeSupported="backgroundSize"in vjs.TEST_VID.style;vjs.PosterImage.prototype.createEl=function(){var a=vjs.createEl("div",{className:"vjs-poster",tabIndex:-1});return _backgroundSizeSupported||a.appendChild(vjs.createEl("img")),a},vjs.PosterImage.prototype.src=function(a){var b=this.el();void 0!==a&&(_backgroundSizeSupported?b.style.backgroundImage='url("'+a+'")':b.firstChild.src=a)},vjs.PosterImage.prototype.onClick=function(){this.player().controls()&&this.player_.play()},vjs.LoadingSpinner=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),a.on("canplay",vjs.bind(this,this.hide)),a.on("canplaythrough",vjs.bind(this,this.hide)),a.on("playing",vjs.bind(this,this.hide)),a.on("seeking",vjs.bind(this,this.show)),a.on("seeked",vjs.bind(this,this.hide)),a.on("error",vjs.bind(this,this.show)),a.on("ended",vjs.bind(this,this.hide)),a.on("waiting",vjs.bind(this,this.show))}}),vjs.LoadingSpinner.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner"})},vjs.BigPlayButton=vjs.Button.extend(),vjs.BigPlayButton.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-big-play-button",innerHTML:'<span aria-hidden="true"></span>',"aria-label":"play video"})},vjs.BigPlayButton.prototype.onClick=function(){this.player_.play()},vjs.MediaTechController=vjs.Component.extend({init:function(a,b,c){b=b||{},b.reportTouchActivity=!1,vjs.Component.call(this,a,b,c),this.initControlsListeners()}}),vjs.MediaTechController.prototype.initControlsListeners=function(){var a,b,c,d;b=this,a=this.player();var c=function(){a.controls()&&!a.usingNativeControls()&&b.addControlsListeners()};d=vjs.bind(b,b.removeControlsListeners),this.ready(c),a.on("controlsenabled",c),a.on("controlsdisabled",d)},vjs.MediaTechController.prototype.addControlsListeners=function(){var a;this.on("mousedown",this.onClick),this.on("touchstart",function(b){b.preventDefault(),a=this.player_.userActive()}),this.on("touchmove",function(){a&&this.player().reportUserActivity()}),this.emitTapEvents(),this.on("tap",this.onTap)},vjs.MediaTechController.prototype.removeControlsListeners=function(){this.off("tap"),this.off("touchstart"),this.off("touchmove"),this.off("touchleave"),this.off("touchcancel"),this.off("touchend"),this.off("click"),this.off("mousedown")},vjs.MediaTechController.prototype.onClick=function(a){0===a.button&&this.player().controls()&&(this.player().paused()?this.player().play():this.player().pause())},vjs.MediaTechController.prototype.onTap=function(){this.player().userActive(!this.player().userActive())},vjs.MediaTechController.prototype.setPoster=function(){},vjs.MediaTechController.prototype.features={volumeControl:!0,fullscreenResize:!1,progressEvents:!1,timeupdateEvents:!1},vjs.media={},vjs.media.ApiMethods="play,pause,paused,currentTime,setCurrentTime,duration,buffered,volume,setVolume,muted,setMuted,width,height,supportsFullScreen,enterFullScreen,src,load,currentSrc,preload,setPreload,autoplay,setAutoplay,loop,setLoop,error,networkState,readyState,seeking,initialTime,startOffsetTime,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks,defaultPlaybackRate,playbackRate,mediaGroup,controller,controls,defaultMuted".split(",");for(var i=vjs.media.ApiMethods.length-1;i>=0;i--){var methodName=vjs.media.ApiMethods[i];vjs.MediaTechController.prototype[vjs.media.ApiMethods[i]]=createMethod(methodName)}vjs.Html5=vjs.MediaTechController.extend({init:function(a,b,c){this.features.volumeControl=vjs.Html5.canControlVolume(),this.features.movingMediaElementInDOM=!vjs.IS_IOS,this.features.fullscreenResize=!0,vjs.MediaTechController.call(this,a,b,c),this.setupTriggers();var d=b.source;d&&this.el_.currentSrc===d.src&&this.el_.networkState>0?a.trigger("loadstart"):d&&(this.el_.src=d.src),vjs.TOUCH_ENABLED&&a.options().nativeControlsForTouch!==!1&&this.useNativeControls(),a.ready(function(){this.tag&&this.options_.autoplay&&this.paused()&&(delete this.tag.poster,this.play())}),this.triggerReady()}}),vjs.Html5.prototype.dispose=function(){vjs.MediaTechController.prototype.dispose.call(this)},vjs.Html5.prototype.createEl=function(){var a,b=this.player_,c=b.tag;c&&this.features.movingMediaElementInDOM!==!1||(c?(a=c.cloneNode(!1),vjs.Html5.disposeMediaElement(c),c=a,b.tag=null):c=vjs.createEl("video",{id:b.id()+"_html5_api",className:"vjs-tech"}),c.player=b,vjs.insertFirst(c,b.el()));for(var d=["autoplay","preload","loop","muted"],e=d.length-1;e>=0;e--){var f=d[e];null!==b.options_[f]&&(c[f]=b.options_[f])}return c},vjs.Html5.prototype.setupTriggers=function(){for(var a=vjs.Html5.Events.length-1;a>=0;a--)vjs.on(this.el_,vjs.Html5.Events[a],vjs.bind(this.player_,this.eventHandler))},vjs.Html5.prototype.eventHandler=function(a){this.trigger(a),a.stopPropagation()},vjs.Html5.prototype.useNativeControls=function(){var a,b,c,d,e;a=this,b=this.player(),a.setControls(b.controls()),c=function(){a.setControls(!0)},d=function(){a.setControls(!1)},b.on("controlsenabled",c),b.on("controlsdisabled",d),e=function(){b.off("controlsenabled",c),b.off("controlsdisabled",d)},a.on("dispose",e),b.on("usingcustomcontrols",e),b.usingNativeControls(!0)},vjs.Html5.prototype.play=function(){this.el_.play()},vjs.Html5.prototype.pause=function(){this.el_.pause()},vjs.Html5.prototype.paused=function(){return this.el_.paused},vjs.Html5.prototype.currentTime=function(){return this.el_.currentTime},vjs.Html5.prototype.setCurrentTime=function(a){try{this.el_.currentTime=a}catch(b){vjs.log(b,"Video is not ready. (Video.js)")}},vjs.Html5.prototype.duration=function(){return this.el_.duration||0},vjs.Html5.prototype.buffered=function(){return this.el_.buffered},vjs.Html5.prototype.volume=function(){return this.el_.volume},vjs.Html5.prototype.setVolume=function(a){this.el_.volume=a},vjs.Html5.prototype.muted=function(){return this.el_.muted},vjs.Html5.prototype.setMuted=function(a){this.el_.muted=a},vjs.Html5.prototype.width=function(){return this.el_.offsetWidth},vjs.Html5.prototype.height=function(){return this.el_.offsetHeight},vjs.Html5.prototype.supportsFullScreen=function(){return"function"!=typeof this.el_.webkitEnterFullScreen||!/Android/.test(vjs.USER_AGENT)&&/Chrome|Mac OS X 10.5/.test(vjs.USER_AGENT)?!1:!0},vjs.Html5.prototype.enterFullScreen=function(){var a=this.el_;a.paused&&a.networkState<=a.HAVE_METADATA?(this.el_.play(),setTimeout(function(){a.pause(),a.webkitEnterFullScreen()},0)):a.webkitEnterFullScreen()},vjs.Html5.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},vjs.Html5.prototype.src=function(a){this.el_.src=a},vjs.Html5.prototype.load=function(){this.el_.load()},vjs.Html5.prototype.currentSrc=function(){return this.el_.currentSrc},vjs.Html5.prototype.poster=function(){return this.el_.poster},vjs.Html5.prototype.setPoster=function(a){this.el_.poster=a},vjs.Html5.prototype.preload=function(){return this.el_.preload},vjs.Html5.prototype.setPreload=function(a){this.el_.preload=a},vjs.Html5.prototype.autoplay=function(){return this.el_.autoplay},vjs.Html5.prototype.setAutoplay=function(a){this.el_.autoplay=a},vjs.Html5.prototype.controls=function(){return this.el_.controls},vjs.Html5.prototype.setControls=function(a){this.el_.controls=!!a},vjs.Html5.prototype.loop=function(){return this.el_.loop},vjs.Html5.prototype.setLoop=function(a){this.el_.loop=a},vjs.Html5.prototype.error=function(){return this.el_.error},vjs.Html5.prototype.seeking=function(){return this.el_.seeking},vjs.Html5.prototype.ended=function(){return this.el_.ended},vjs.Html5.prototype.defaultMuted=function(){return this.el_.defaultMuted},vjs.Html5.isSupported=function(){try{vjs.TEST_VID.volume=.5}catch(a){return!1}return!!vjs.TEST_VID.canPlayType},vjs.Html5.canPlaySource=function(a){try{return!!vjs.TEST_VID.canPlayType(a.type)}catch(b){return""}},vjs.Html5.canControlVolume=function(){var a=vjs.TEST_VID.volume;return vjs.TEST_VID.volume=a/2+.1,a!==vjs.TEST_VID.volume},function(){var a,b=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,c=/^video\/mp4/i;vjs.Html5.patchCanPlayType=function(){vjs.ANDROID_VERSION>=4&&(a||(a=vjs.TEST_VID.constructor.prototype.canPlayType),vjs.TEST_VID.constructor.prototype.canPlayType=function(c){return c&&b.test(c)?"maybe":a.call(this,c)}),vjs.IS_OLD_ANDROID&&(a||(a=vjs.TEST_VID.constructor.prototype.canPlayType),vjs.TEST_VID.constructor.prototype.canPlayType=function(b){return b&&c.test(b)?"maybe":a.call(this,b)})},vjs.Html5.unpatchCanPlayType=function(){var b=vjs.TEST_VID.constructor.prototype.canPlayType;return vjs.TEST_VID.constructor.prototype.canPlayType=a,a=null,b},vjs.Html5.patchCanPlayType()}(),vjs.Html5.Events="loadstart,suspend,abort,error,emptied,stalled,loadedmetadata,loadeddata,canplay,canplaythrough,playing,waiting,seeking,seeked,ended,durationchange,timeupdate,progress,play,pause,ratechange,volumechange".split(","),vjs.Html5.disposeMediaElement=function(a){if(a){for(a.player=null,a.parentNode&&a.parentNode.removeChild(a);a.hasChildNodes();)a.removeChild(a.firstChild);a.removeAttribute("src"),"function"==typeof a.load&&!function(){try{a.load()}catch(b){}}()}},vjs.Flash=vjs.MediaTechController.extend({init:function(a,b,c){vjs.MediaTechController.call(this,a,b,c);var d,e=b.source,f=b.parentEl,g=this.el_=vjs.createEl("div",{id:a.id()+"_temp_flash"}),h=a.id()+"_flash_api",i=a.options_,j=vjs.obj.merge({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:i.autoplay,preload:i.preload,loop:i.loop,muted:i.muted},b.flashVars),k=vjs.obj.merge({wmode:"opaque",bgcolor:"#000000"},b.params),l=vjs.obj.merge({id:h,name:h,"class":"vjs-tech"},b.attributes);if(e)if(e.type&&vjs.Flash.isStreamingType(e.type)){var m=vjs.Flash.streamToParts(e.src);j.rtmpConnection=encodeURIComponent(m.connection),j.rtmpStream=encodeURIComponent(m.stream)}else j.src=encodeURIComponent(vjs.getAbsoluteURL(e.src));if(this.setCurrentTime=function(a){d=a,this.el_.vjs_setProperty("currentTime",a)},this.currentTime=function(){return this.seeking()?d:this.el_.vjs_getProperty("currentTime")},vjs.insertFirst(g,f),b.startTime&&this.ready(function(){this.load(),this.play(),this.currentTime(b.startTime)}),vjs.IS_FIREFOX&&this.ready(function(){vjs.on(this.el(),"mousemove",vjs.bind(this,function(){this.player().trigger({type:"mousemove",bubbles:!1})}))}),b.iFrameMode!==!0||vjs.IS_FIREFOX)vjs.Flash.embed(b.swf,g,j,k,l);else{var n=vjs.createEl("iframe",{id:h+"_iframe",name:h+"_iframe",className:"vjs-tech",scrolling:"no",marginWidth:0,marginHeight:0,frameBorder:0});j.readyFunction="ready",j.eventProxyFunction="events",j.errorEventProxyFunction="errors",vjs.on(n,"load",vjs.bind(this,function(){var a,c=n.contentWindow;a=n.contentDocument?n.contentDocument:n.contentWindow.document,a.write(vjs.Flash.getEmbedCode(b.swf,j,k,l)),c.player=this.player_,c.ready=vjs.bind(this.player_,function(b){var c=a.getElementById(b),d=this,e=d.tech;e.el_=c,vjs.Flash.checkReady(e)}),c.events=vjs.bind(this.player_,function(a,b){var c=this;c&&"flash"===c.techName&&c.trigger(b)}),c.errors=vjs.bind(this.player_,function(a,b){vjs.log("Flash Error",b)})})),g.parentNode.replaceChild(n,g)}}}),vjs.Flash.prototype.dispose=function(){vjs.MediaTechController.prototype.dispose.call(this)},vjs.Flash.prototype.play=function(){this.el_.vjs_play()},vjs.Flash.prototype.pause=function(){this.el_.vjs_pause()},vjs.Flash.prototype.src=function(a){if(void 0===a)return this.currentSrc();if(vjs.Flash.isStreamingSrc(a)?(a=vjs.Flash.streamToParts(a),this.setRtmpConnection(a.connection),this.setRtmpStream(a.stream)):(a=vjs.getAbsoluteURL(a),this.el_.vjs_src(a)),this.player_.autoplay()){var b=this;setTimeout(function(){b.play()},0)}},vjs.Flash.prototype.currentSrc=function(){var a=this.el_.vjs_getProperty("currentSrc");if(null==a){var b=this.rtmpConnection(),c=this.rtmpStream();b&&c&&(a=vjs.Flash.streamFromParts(b,c))}return a},vjs.Flash.prototype.load=function(){this.el_.vjs_load()},vjs.Flash.prototype.poster=function(){this.el_.vjs_getProperty("poster")},vjs.Flash.prototype.setPoster=function(){},vjs.Flash.prototype.buffered=function(){return vjs.createTimeRange(0,this.el_.vjs_getProperty("buffered"))},vjs.Flash.prototype.supportsFullScreen=function(){return!1
},vjs.Flash.prototype.enterFullScreen=function(){return!1};var api=vjs.Flash.prototype,readWrite="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),readOnly="error,networkState,readyState,seeking,initialTime,duration,startOffsetTime,paused,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks".split(","),createSetter=function(a){var b=a.charAt(0).toUpperCase()+a.slice(1);api["set"+b]=function(b){return this.el_.vjs_setProperty(a,b)}},createGetter=function(a){api[a]=function(){return this.el_.vjs_getProperty(a)}};if(function(){var a;for(a=0;a<readWrite.length;a++)createGetter(readWrite[a]),createSetter(readWrite[a]);for(a=0;a<readOnly.length;a++)createGetter(readOnly[a])}(),vjs.Flash.isSupported=function(){return vjs.Flash.version()[0]>=10},vjs.Flash.canPlaySource=function(a){var b;return a.type?(b=a.type.replace(/;.*/,"").toLowerCase(),b in vjs.Flash.formats||b in vjs.Flash.streamingFormats?"maybe":void 0):""},vjs.Flash.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},vjs.Flash.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},vjs.Flash.onReady=function(a){var b=vjs.el(a),c=b.player||b.parentNode.player,d=c.tech;b.player=c,d.el_=b,vjs.Flash.checkReady(d)},vjs.Flash.checkReady=function(a){a.el().vjs_getProperty?a.triggerReady():setTimeout(function(){vjs.Flash.checkReady(a)},50)},vjs.Flash.onEvent=function(a,b){var c=vjs.el(a).player;c.trigger(b)},vjs.Flash.onError=function(a,b){var c=vjs.el(a).player;c.trigger("error"),vjs.log("Flash Error",b,a)},vjs.Flash.version=function(){var a="0,0,0";try{a=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(b){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(a=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(c){}}return a.split(",")},vjs.Flash.embed=function(a,b,c,d,e){var f=vjs.Flash.getEmbedCode(a,c,d,e),g=vjs.createEl("div",{innerHTML:f}).childNodes[0],h=b.parentNode;b.parentNode.replaceChild(g,b);var i=h.childNodes[0];return setTimeout(function(){i.style.display="block"},1e3),g},vjs.Flash.getEmbedCode=function(a,b,c,d){var e='<object type="application/x-shockwave-flash"',f="",g="",h="";return b&&vjs.obj.each(b,function(a,b){f+=a+"="+b+"&amp;"}),c=vjs.obj.merge({movie:a,flashvars:f,allowScriptAccess:"always",allowNetworking:"all"},c),vjs.obj.each(c,function(a,b){g+='<param name="'+a+'" value="'+b+'" />'}),d=vjs.obj.merge({data:a,width:"100%",height:"100%"},d),vjs.obj.each(d,function(a,b){h+=a+'="'+b+'" '}),e+h+">"+g+"</object>"},vjs.Flash.streamFromParts=function(a,b){return a+"&"+b},vjs.Flash.streamToParts=function(a){var b={connection:"",stream:""};if(!a)return b;var c,d=a.indexOf("&");return-1!==d?c=d+1:(d=c=a.lastIndexOf("/")+1,0===d&&(d=c=a.length)),b.connection=a.substring(0,d),b.stream=a.substring(c,a.length),b},vjs.Flash.isStreamingType=function(a){return a in vjs.Flash.streamingFormats},vjs.Flash.RTMP_RE=/^rtmp[set]?:\/\//i,vjs.Flash.isStreamingSrc=function(a){return vjs.Flash.RTMP_RE.test(a)},vjs.MediaLoader=vjs.Component.extend({init:function(a,b,c){if(vjs.Component.call(this,a,b,c),a.options_.sources&&0!==a.options_.sources.length)a.src(a.options_.sources);else for(var d=0,e=a.options_.techOrder;d<e.length;d++){var f=vjs.capitalize(e[d]),g=window.videojs[f];if(g&&g.isSupported()){a.loadTech(f);break}}}}),vjs.Player.prototype.textTracks_,vjs.Player.prototype.textTracks=function(){return this.textTracks_=this.textTracks_||[],this.textTracks_},vjs.Player.prototype.addTextTrack=function(a,b,c,d){var e=this.textTracks_=this.textTracks_||[];d=d||{},d.kind=a,d.label=b,d.language=c;var f=vjs.capitalize(a||"subtitles"),g=new window.videojs[f+"Track"](this,d);return e.push(g),g.dflt()&&this.ready(vjs.bind(g,g.show)),g},vjs.Player.prototype.addTextTracks=function(a){for(var b,c=0;c<a.length;c++)b=a[c],this.addTextTrack(b.kind,b.label,b.language,b);return this},vjs.Player.prototype.showTextTrack=function(a,b){for(var c,d,e,f=this.textTracks_,g=0,h=f.length;h>g;g++)c=f[g],c.id()===a?(c.show(),d=c):b&&c.kind()==b&&c.mode()>0&&c.disable();return e=d?d.kind():b?b:!1,e&&this.trigger(e+"trackchange"),this},vjs.TextTrack=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),this.id_=b.id||"vjs_"+b.kind+"_"+b.language+"_"+vjs.guid++,this.src_=b.src,this.dflt_=b["default"]||b.dflt,this.title_=b.title,this.language_=b.srclang,this.label_=b.label,this.cues_=[],this.activeCues_=[],this.readyState_=0,this.mode_=0,this.player_.on("fullscreenchange",vjs.bind(this,this.adjustFontSize))}}),vjs.TextTrack.prototype.kind_,vjs.TextTrack.prototype.kind=function(){return this.kind_},vjs.TextTrack.prototype.src_,vjs.TextTrack.prototype.src=function(){return this.src_},vjs.TextTrack.prototype.dflt_,vjs.TextTrack.prototype.dflt=function(){return this.dflt_},vjs.TextTrack.prototype.title_,vjs.TextTrack.prototype.title=function(){return this.title_},vjs.TextTrack.prototype.language_,vjs.TextTrack.prototype.language=function(){return this.language_},vjs.TextTrack.prototype.label_,vjs.TextTrack.prototype.label=function(){return this.label_},vjs.TextTrack.prototype.cues_,vjs.TextTrack.prototype.cues=function(){return this.cues_},vjs.TextTrack.prototype.activeCues_,vjs.TextTrack.prototype.activeCues=function(){return this.activeCues_},vjs.TextTrack.prototype.readyState_,vjs.TextTrack.prototype.readyState=function(){return this.readyState_},vjs.TextTrack.prototype.mode_,vjs.TextTrack.prototype.mode=function(){return this.mode_},vjs.TextTrack.prototype.adjustFontSize=function(){this.el_.style.fontSize=this.player_.isFullScreen()?screen.width/this.player_.width()*1.4*100+"%":""},vjs.TextTrack.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-"+this.kind_+" vjs-text-track"})},vjs.TextTrack.prototype.show=function(){this.activate(),this.mode_=2,vjs.Component.prototype.show.call(this)},vjs.TextTrack.prototype.hide=function(){this.activate(),this.mode_=1,vjs.Component.prototype.hide.call(this)},vjs.TextTrack.prototype.disable=function(){2==this.mode_&&this.hide(),this.deactivate(),this.mode_=0},vjs.TextTrack.prototype.activate=function(){0===this.readyState_&&this.load(),0===this.mode_&&(this.player_.on("timeupdate",vjs.bind(this,this.update,this.id_)),this.player_.on("ended",vjs.bind(this,this.reset,this.id_)),("captions"===this.kind_||"subtitles"===this.kind_)&&this.player_.getChild("textTrackDisplay").addChild(this))},vjs.TextTrack.prototype.deactivate=function(){this.player_.off("timeupdate",vjs.bind(this,this.update,this.id_)),this.player_.off("ended",vjs.bind(this,this.reset,this.id_)),this.reset(),this.player_.getChild("textTrackDisplay").removeChild(this)},vjs.TextTrack.prototype.load=function(){0===this.readyState_&&(this.readyState_=1,vjs.get(this.src_,vjs.bind(this,this.parseCues),vjs.bind(this,this.onError)))},vjs.TextTrack.prototype.onError=function(a){this.error=a,this.readyState_=3,this.trigger("error")},vjs.TextTrack.prototype.parseCues=function(a){for(var b,c,d,e,f=a.split("\n"),g="",h=1,i=f.length;i>h;h++)if(g=vjs.trim(f[h])){for(-1==g.indexOf("-->")?(e=g,g=vjs.trim(f[++h])):e=this.cues_.length,b={id:e,index:this.cues_.length},c=g.split(" --> "),b.startTime=this.parseCueTime(c[0]),b.endTime=this.parseCueTime(c[1]),d=[];f[++h]&&(g=vjs.trim(f[h]));){var j;try{j=decodeURIComponent(escape(g))}catch(k){j=g}d.push(j)}b.text=d.join("<br/>"),this.cues_.push(b)}this.readyState_=2,this.trigger("loaded")},vjs.TextTrack.prototype.parseCueTime=function(a){var b,c,d,e,f,g=a.split(":"),h=0;return 3==g.length?(b=g[0],c=g[1],d=g[2]):(b=0,c=g[0],d=g[1]),d=d.split(/\s+/),e=d.splice(0,1)[0],e=e.split(/\.|,/),f=parseFloat(e[1]),e=e[0],h+=3600*parseFloat(b),h+=60*parseFloat(c),h+=parseFloat(e),f&&(h+=f/1e3),h},vjs.TextTrack.prototype.update=function(){if(this.cues_.length>0){var a=this.player_.currentTime();if(void 0===this.prevChange||a<this.prevChange||this.nextChange<=a){var b,c,d,e,f=this.cues_,g=this.player_.duration(),h=0,i=!1,j=[];for(a>=this.nextChange||void 0===this.nextChange?e=void 0!==this.firstActiveIndex?this.firstActiveIndex:0:(i=!0,e=void 0!==this.lastActiveIndex?this.lastActiveIndex:f.length-1);;){if(d=f[e],d.endTime<=a)h=Math.max(h,d.endTime),d.active&&(d.active=!1);else if(a<d.startTime){if(g=Math.min(g,d.startTime),d.active&&(d.active=!1),!i)break}else i?(j.splice(0,0,d),void 0===c&&(c=e),b=e):(j.push(d),void 0===b&&(b=e),c=e),g=Math.min(g,d.endTime),h=Math.max(h,d.startTime),d.active=!0;if(i){if(0===e)break;e--}else{if(e===f.length-1)break;e++}}this.activeCues_=j,this.nextChange=g,this.prevChange=h,this.firstActiveIndex=b,this.lastActiveIndex=c,this.updateDisplay(),this.trigger("cuechange")}}},vjs.TextTrack.prototype.updateDisplay=function(){for(var a=this.activeCues_,b="",c=0,d=a.length;d>c;c++)b+='<span class="vjs-tt-cue">'+a[c].text+"</span>";this.el_.innerHTML=b},vjs.TextTrack.prototype.reset=function(){this.nextChange=0,this.prevChange=this.player_.duration(),this.firstActiveIndex=0,this.lastActiveIndex=0},vjs.CaptionsTrack=vjs.TextTrack.extend(),vjs.CaptionsTrack.prototype.kind_="captions",vjs.SubtitlesTrack=vjs.TextTrack.extend(),vjs.SubtitlesTrack.prototype.kind_="subtitles",vjs.ChaptersTrack=vjs.TextTrack.extend(),vjs.ChaptersTrack.prototype.kind_="chapters",vjs.TextTrackDisplay=vjs.Component.extend({init:function(a,b,c){vjs.Component.call(this,a,b,c),a.options_.tracks&&a.options_.tracks.length>0&&this.player_.addTextTracks(a.options_.tracks)}}),vjs.TextTrackDisplay.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"})},vjs.TextTrackMenuItem=vjs.MenuItem.extend({init:function(a,b){var c=this.track=b.track;b.label=c.label(),b.selected=c.dflt(),vjs.MenuItem.call(this,a,b),this.player_.on(c.kind()+"trackchange",vjs.bind(this,this.update))}}),vjs.TextTrackMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this),this.player_.showTextTrack(this.track.id_,this.track.kind())},vjs.TextTrackMenuItem.prototype.update=function(){this.selected(2==this.track.mode())},vjs.OffTextTrackMenuItem=vjs.TextTrackMenuItem.extend({init:function(a,b){b.track={kind:function(){return b.kind},player:a,label:function(){return b.kind+" off"},dflt:function(){return!1},mode:function(){return!1}},vjs.TextTrackMenuItem.call(this,a,b),this.selected(!0)}}),vjs.OffTextTrackMenuItem.prototype.onClick=function(){vjs.TextTrackMenuItem.prototype.onClick.call(this),this.player_.showTextTrack(this.track.id_,this.track.kind())},vjs.OffTextTrackMenuItem.prototype.update=function(){for(var a,b=this.player_.textTracks(),c=0,d=b.length,e=!0;d>c;c++)a=b[c],a.kind()==this.track.kind()&&2==a.mode()&&(e=!1);this.selected(e)},vjs.TextTrackButton=vjs.MenuButton.extend({init:function(a,b){vjs.MenuButton.call(this,a,b),this.items.length<=1&&this.hide()}}),vjs.TextTrackButton.prototype.createItems=function(){var a,b=[];b.push(new vjs.OffTextTrackMenuItem(this.player_,{kind:this.kind_}));for(var c=0;c<this.player_.textTracks().length;c++)a=this.player_.textTracks()[c],a.kind()===this.kind_&&b.push(new vjs.TextTrackMenuItem(this.player_,{track:a}));return b},vjs.CaptionsButton=vjs.TextTrackButton.extend({init:function(a,b,c){vjs.TextTrackButton.call(this,a,b,c),this.el_.setAttribute("aria-label","Captions Menu")}}),vjs.CaptionsButton.prototype.kind_="captions",vjs.CaptionsButton.prototype.buttonText="Captions",vjs.CaptionsButton.prototype.className="vjs-captions-button",vjs.SubtitlesButton=vjs.TextTrackButton.extend({init:function(a,b,c){vjs.TextTrackButton.call(this,a,b,c),this.el_.setAttribute("aria-label","Subtitles Menu")}}),vjs.SubtitlesButton.prototype.kind_="subtitles",vjs.SubtitlesButton.prototype.buttonText="Subtitles",vjs.SubtitlesButton.prototype.className="vjs-subtitles-button",vjs.ChaptersButton=vjs.TextTrackButton.extend({init:function(a,b,c){vjs.TextTrackButton.call(this,a,b,c),this.el_.setAttribute("aria-label","Chapters Menu")}}),vjs.ChaptersButton.prototype.kind_="chapters",vjs.ChaptersButton.prototype.buttonText="Chapters",vjs.ChaptersButton.prototype.className="vjs-chapters-button",vjs.ChaptersButton.prototype.createItems=function(){for(var a,b=[],c=0;c<this.player_.textTracks().length;c++)a=this.player_.textTracks()[c],a.kind()===this.kind_&&b.push(new vjs.TextTrackMenuItem(this.player_,{track:a}));return b},vjs.ChaptersButton.prototype.createMenu=function(){for(var a,b,c=this.player_.textTracks(),d=0,e=c.length,f=this.items=[];e>d;d++)if(a=c[d],a.kind()==this.kind_&&a.dflt()){if(a.readyState()<2)return this.chaptersTrack=a,void a.on("loaded",vjs.bind(this,this.createMenu));b=a;break}var g=this.menu=new vjs.Menu(this.player_);if(g.el_.appendChild(vjs.createEl("li",{className:"vjs-menu-title",innerHTML:vjs.capitalize(this.kind_),tabindex:-1})),b){var h,i,j=b.cues_;for(d=0,e=j.length;e>d;d++)h=j[d],i=new vjs.ChaptersTrackMenuItem(this.player_,{track:b,cue:h}),f.push(i),g.addChild(i)}return this.items.length>0&&this.show(),g},vjs.ChaptersTrackMenuItem=vjs.MenuItem.extend({init:function(a,b){var c=this.track=b.track,d=this.cue=b.cue,e=a.currentTime();b.label=d.text,b.selected=d.startTime<=e&&e<d.endTime,vjs.MenuItem.call(this,a,b),c.on("cuechange",vjs.bind(this,this.update))}}),vjs.ChaptersTrackMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},vjs.ChaptersTrackMenuItem.prototype.update=function(){var a=this.cue,b=this.player_.currentTime();this.selected(a.startTime<=b&&b<a.endTime)},vjs.obj.merge(vjs.ControlBar.prototype.options_.children,{subtitlesButton:{},captionsButton:{},chaptersButton:{}}),vjs.JSON,"undefined"!=typeof window.JSON&&"function"===window.JSON.parse)vjs.JSON=window.JSON;else{vjs.JSON={};var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;vjs.JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse(): invalid or malformed JSON data")}}vjs.autoSetup=function(){var a,b,c,d=document.getElementsByTagName("video");if(d&&d.length>0)for(var e=0,f=d.length;f>e;e++){if(b=d[e],!b||!b.getAttribute){vjs.autoSetupTimeout(1);break}void 0===b.player&&(a=b.getAttribute("data-setup"),null!==a&&(a=vjs.JSON.parse(a||"{}"),c=videojs(b,a)))}else vjs.windowLoaded||vjs.autoSetupTimeout(1)},vjs.autoSetupTimeout=function(a){setTimeout(vjs.autoSetup,a)},"complete"===document.readyState?vjs.windowLoaded=!0:vjs.one(window,"load",function(){vjs.windowLoaded=!0}),vjs.autoSetupTimeout(1),vjs.plugin=function(a,b){vjs.Player.prototype[a]=b},videojs.Youtube=videojs.MediaTechController.extend({init:function(a,b,c){if(videojs.MediaTechController.call(this,a,b,c),this.features.progressEvents=!1,this.features.timeupdateEvents=!1,"undefined"!=typeof b.source)for(var d in b.source)a.options()[d]=b.source[d];this.userQuality=videojs.Youtube.convertQualityName(a.options().quality),this.player_=a,this.player_el_=document.getElementById(a.id()),this.player_el_.className+=" vjs-youtube",this.qualityButton=document.createElement("div"),this.qualityButton.setAttribute("class","vjs-quality-button vjs-menu-button vjs-control"),this.qualityButton.setAttribute("tabindex",0);var e=document.createElement("div");this.qualityButton.appendChild(e),this.qualityTitle=document.createElement("span"),e.appendChild(this.qualityTitle);var f=document.createElement("div");f.setAttribute("class","vjs-menu"),this.qualityButton.appendChild(f),this.qualityMenuContent=document.createElement("ul"),this.qualityMenuContent.setAttribute("class","vjs-menu-content"),f.appendChild(this.qualityMenuContent),this.id_=this.player_.id()+"_youtube_api",this.el_=videojs.Component.prototype.createEl("iframe",{id:this.id_,className:"vjs-tech",scrolling:"no",marginWidth:0,marginHeight:0,frameBorder:0,webkitAllowFullScreen:"true",mozallowfullscreen:"true",allowFullScreen:"true"}),this.iframeblocker=videojs.Component.prototype.createEl("div",{className:"iframeblocker"});var g=this;if(this.toggleOnClick=!!this.player_.options().toggleOnClick,this.toggleOnClick){var h=function(){g.paused()?g.play():g.pause()};this.iframeblocker.addEventListener("click",h)}else{var i=function(){g.player_.userActive(g.player_.userActive()===!0?!1:!0)};this.iframeblocker.addEventListener("click",i)}this.iframeblocker.addEventListener("mousemove",function(a){g.player_.userActive()||g.player_.userActive(!0),a.stopPropagation(),a.preventDefault()}),this.iframeblocker.addEventListener("tap",function(){g.player_.userActive(g.player_.userActive()===!0?!1:!0)}),!this.player_.options().ytcontrols,this.player_el_.insertBefore(this.iframeblocker,this.player_el_.firstChild),this.player_el_.insertBefore(this.el_,this.iframeblocker),this.parseSrc(a.options().src),this.playOnReady=this.player_.options().autoplay||!1,this.forceSSL=this.player_.options().forceSSL||!0;var j={enablejsapi:1,iv_load_policy:3,playerapiid:this.id(),disablekb:1,wmode:"transparent",controls:this.player_.options().ytcontrols?1:0,html5:this.player_.options().forceHTML5?1:null,playsinline:this.player_.options().playsInline?1:0,showinfo:0,modestbranding:1,rel:0,autoplay:this.playOnReady?1:0,loop:this.player_.options().loop?1:0,list:this.playlistId,vq:"small"};for(var k in j)!j.hasOwnProperty(k)||"undefined"!=typeof j[k]&&null!==j[k]||delete j[k];if(this.forceSSL||"file:"!=window.location.protocol?this.el_.src="https://www.youtube.com/embed/"+this.videoId+"?"+videojs.Youtube.makeQueryString(j):(j.origin=window.location.protocol+"//"+window.location.host,this.el_.src=window.location.protocol+"//www.youtube.com/embed/"+this.videoId+"?"+videojs.Youtube.makeQueryString(j)),a.ready(function(){var a=g.player_el_.getElementsByClassName("vjs-control-bar")[0];a.appendChild(g.qualityButton),g.playOnReady&&!g.player_.options().ytcontrols&&("undefined"!=typeof g.player_.loadingSpinner&&g.player_.loadingSpinner.show(),"undefined"!=typeof g.player_.bigPlayButton&&g.player_.bigPlayButton.hide())}),this.player_.options().ytcontrols?this.player_.controls(!1):this.player_.poster()||(null==this.videoId?this.iframeblocker.style.backgroundColor="black":setTimeout(function(){var a=g.player_el_.getElementsByClassName("vjs-poster")[0];a.style.backgroundImage="url(https://img.youtube.com/vi/"+g.videoId+"/0.jpg)",a.style.display=""},100)),videojs.Youtube.apiReady)this.loadYoutube();else if(videojs.Youtube.loadingQueue.push(this),!videojs.Youtube.apiLoading){var l=document.createElement("script");l.onerror=function(a){g.onError(a)},l.src=this.forceSSL||"file:"===window.location.protocol?"https://www.youtube.com/iframe_api":"//www.youtube.com/iframe_api";var m=document.getElementsByTagName("script")[0];m.parentNode.insertBefore(l,m),videojs.Youtube.apiLoading=!0}this.on("dispose",function(){this.el_.parentNode.removeChild(this.el_),this.iframeblocker.parentNode.removeChild(this.iframeblocker),this.qualityButton.parentNode.removeChild(this.qualityButton),"undefined"!=typeof this.player_.loadingSpinner&&this.player_.loadingSpinner.hide(),"undefined"!=typeof this.player_.bigPlayButton&&this.player_.bigPlayButton.hide()})}}),videojs.Youtube.prototype.parseSrc=function(a){if(this.srcVal=a,a){var b=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,c=a.match(b);this.videoId=c&&11==c[2].length?c[2]:null;var d=/[?&]list=([^#\&\?]+)/;c=a.match(d),null!=c&&c.length>1?this.playlistId=c[1]:this.playlistId&&delete this.playlistId;var e=/[?&]vq=([^#\&\?]+)/;c=a.match(e),null!=c&&c.length>1&&(this.userQuality=c[1])}},videojs.Youtube.prototype.src=function(a){return a&&(this.parseSrc(a),null==this.videoId?(this.iframeblocker.style.backgroundColor="black",this.iframeblocker.style.display="block"):(this.player_.options().autoplay?this.ytplayer.loadVideoById({videoId:this.videoId,suggestedQuality:this.userQuality}):this.ytplayer.cueVideoById({videoId:this.videoId,suggestedQuality:this.userQuality}),this.player_el_.getElementsByClassName("vjs-poster")[0].style.backgroundImage="url(https://img.youtube.com/vi/"+this.videoId+"/0.jpg)",this.iframeblocker.style.backgroundColor="",this.iframeblocker.style.display="",this.player_.poster("https://img.youtube.com/vi/"+this.videoId+"/0.jpg"))),this.srcVal},videojs.Youtube.prototype.load=function(){},videojs.Youtube.prototype.play=function(){null!=this.videoId&&(this.player_.options().ytcontrols||this.player_.trigger("waiting"),this.isReady_?this.ytplayer.playVideo():this.playOnReady=!0)},videojs.Youtube.prototype.pause=function(){this.ytplayer.pauseVideo()},videojs.Youtube.prototype.paused=function(){return this.ytplayer?this.lastState!==YT.PlayerState.PLAYING&&this.lastState!==YT.PlayerState.BUFFERING:!0},videojs.Youtube.prototype.currentTime=function(){return this.ytplayer&&this.ytplayer.getCurrentTime?this.ytplayer.getCurrentTime():0},videojs.Youtube.prototype.setCurrentTime=function(a){this.ytplayer.seekTo(a,!0),this.player_.trigger("timeupdate")},videojs.Youtube.prototype.duration=function(){return this.ytplayer&&this.ytplayer.getDuration?this.ytplayer.getDuration():0},videojs.Youtube.prototype.currentSrc=function(){return this.srcVal},videojs.Youtube.prototype.volume=function(){return this.ytplayer&&isNaN(this.volumeVal)&&(this.volumeVal=this.ytplayer.getVolume()/100),this.volumeVal},videojs.Youtube.prototype.setVolume=function(a){a&&a!=this.volumeVal&&(this.ytplayer.setVolume(100*a),this.volumeVal=a,this.player_.trigger("volumechange"))},videojs.Youtube.prototype.muted=function(){return this.mutedVal},videojs.Youtube.prototype.setMuted=function(a){a?this.ytplayer.mute():this.ytplayer.unMute(),this.mutedVal=a,this.player_.trigger("volumechange")},videojs.Youtube.prototype.buffered=function(){if(this.ytplayer&&this.ytplayer.getVideoBytesLoaded){var a=this.ytplayer.getVideoBytesLoaded(),b=this.ytplayer.getVideoBytesTotal();if(!a||!b)return 0;var c=this.ytplayer.getDuration(),d=a/b*c,e=this.ytplayer.getVideoStartBytes()/b*c;return videojs.createTimeRange(e,e+d)}return videojs.createTimeRange(0,0)},videojs.Youtube.prototype.supportsFullScreen=function(){return!0},videojs.Youtube.isSupported=function(){return!0},videojs.Youtube.canPlaySource=function(a){return"video/youtube"==a.type},videojs.Youtube.canControlVolume=function(){return!0},videojs.Youtube.loadingQueue=[],videojs.Youtube.prototype.loadYoutube=function(){this.ytplayer=new YT.Player(this.id_,{events:{onReady:function(a){a.target.vjsTech.onReady()},onStateChange:function(a){a.target.vjsTech.onStateChange(a.data)}}}),this.ytplayer.vjsTech=this},videojs.Youtube.makeQueryString=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")},window.onYouTubeIframeAPIReady=function(){for(var a;a=videojs.Youtube.loadingQueue.shift();)a.loadYoutube();videojs.Youtube.loadingQueue=[],videojs.Youtube.apiReady=!0},videojs.Youtube.prototype.onReady=function(){this.isReady_=!0,this.triggerReady(),this.iframeblocker.style.display="","undefined"!=typeof this.player_.loadingSpinner&&this.player_.loadingSpinner.hide(),this.player_.options().muted&&this.setMuted(!0),this.playOnReady&&(this.playOnReady=!1,this.play())},videojs.Youtube.prototype.updateQualities=function(){var a=this.ytplayer.getAvailableQualityLevels(),b=this;if(0==a.length)this.qualityButton.style.display="none";else{for(this.qualityButton.style.display="";this.qualityMenuContent.hasChildNodes();)this.qualityMenuContent.removeChild(this.qualityMenuContent.lastChild);for(var c=0;c<a.length;++c){var d=document.createElement("li");d.setAttribute("class","vjs-menu-item"),setInnerText(d,videojs.Youtube.parseQualityName(a[c])),d.setAttribute("data-val",a[c]),a[c]==this.quality&&videojs.Youtube.addClass(d,"vjs-selected"),d.addEventListener("click",function(){var a=this.getAttribute("data-val");b.ytplayer.setPlaybackQuality(a),setInnerText(b.qualityTitle,videojs.Youtube.parseQualityName(a));var c=b.qualityMenuContent.querySelector(".vjs-selected");c&&videojs.Youtube.removeClass(c,"vjs-selected"),videojs.Youtube.addClass(this,"vjs-selected")}),this.qualityMenuContent.appendChild(d)}}},videojs.Youtube.prototype.onStateChange=function(a){if(a!=this.lastState){switch(a){case-1:this.player_.trigger("durationchange");break;case YT.PlayerState.ENDED:this.player_.options().ytcontrols||(this.player_el_.getElementsByClassName("vjs-poster")[0].style.display="block","undefined"!=typeof this.player_.bigPlayButton&&this.player_.bigPlayButton.show()),this.player_.trigger("ended");break;case YT.PlayerState.PLAYING:"undefined"!=typeof this.player_.bigPlayButton&&this.player_.bigPlayButton.hide(),this.updateQualities(),this.player_.trigger("timeupdate"),this.player_.trigger("durationchange"),this.player_.trigger("playing"),this.player_.trigger("play");break;case YT.PlayerState.PAUSED:this.player_.trigger("pause");break;case YT.PlayerState.BUFFERING:this.player_.trigger("timeupdate"),this.player_.options().ytcontrols||this.player_.trigger("waiting");break;case YT.PlayerState.CUED:}this.ytplayer.unloadModule("captions"),this.lastState=a}},videojs.Youtube.convertQualityName=function(a){switch(a){case"144p":return"tiny";case"240p":return"small";case"360p":return"medium";case"480p":return"large";case"720p":return"hd720";case"1080p":return"hd1080"}return a},videojs.Youtube.parseQualityName=function(a){switch(a){case"tiny":return"144p";case"small":return"240p";case"medium":return"360p";case"large":return"480p";case"hd720":return"720p";case"hd1080":return"1080p"}return a},videojs.Youtube.prototype.onPlaybackQualityChange=function(a){switch(this.quality=a,setInnerText(this.qualityTitle,videojs.Youtube.parseQualityName(a)),a){case"medium":this.player_.videoWidth=480,this.player_.videoHeight=360;break;case"large":this.player_.videoWidth=640,this.player_.videoHeight=480;break;case"hd720":this.player_.videoWidth=960,this.player_.videoHeight=720;break;case"hd1080":this.player_.videoWidth=1440,this.player_.videoHeight=1080;break;case"highres":this.player_.videoWidth=1920,this.player_.videoHeight=1080;break;case"small":this.player_.videoWidth=320,this.player_.videoHeight=240;break;case"tiny":this.player_.videoWidth=144,this.player_.videoHeight=108;break;default:this.player_.videoWidth=0,this.player_.videoHeight=0}this.player_.trigger("ratechange")},videojs.Youtube.prototype.onError=function(a){this.player_.error=a,this.player_.trigger("error"),(100==a||101==a||150==a)&&(this.player_.bigPlayButton.hide(),this.player_.loadingSpinner.hide(),this.player_.posterImage.hide(),this.iframeblocker.style.display="")},videojs.Youtube.addClass=function(a,b){-1==(" "+a.className+" ").indexOf(" "+b+" ")&&(a.className=""===a.className?b:a.className+" "+b)},videojs.Youtube.removeClass=function(a,b){var c,d;if(-1!=a.className.indexOf(b)){for(c=a.className.split(" "),d=c.length-1;d>=0;d--)c[d]===b&&c.splice(d,1);a.className=c.join(" ")}},function(){var a=document.createElement("style");a.type="text/css";var b="   .vjs-youtube .vjs-poster { background-size: cover; }  .vjs-poster, .vjs-loading-spinner, .vjs-big-play-button, .vjs-text-track-display{ pointer-events: none !important; }  .iframeblocker { display:none;position:absolute;top:0;left:0;width:100%;height:100%;z-index:2; }  .vjs-youtube.vjs-user-inactive .iframeblocker { display:block; }   .vjs-quality-button > div:first-child > span:first-child { position:relative;top:7px }  ";setInnerText(a,b),document.getElementsByTagName("head")[0].appendChild(a)}();